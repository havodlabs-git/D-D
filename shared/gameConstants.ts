// ============================================
// D&D 5e 2024 GAME CONSTANTS
// ============================================

// ============================================
// CHARACTER CLASSES (D&D 5e 2024)
// ============================================

export const CHARACTER_CLASSES = {
  barbarian: {
    name: "Bárbaro",
    description: "Um guerreiro feroz que canaliza fúria primitiva em combate devastador.",
    hitDice: "d12",
    primaryAbility: "strength",
    savingThrows: ["strength", "constitution"],
    armorProficiencies: ["light", "medium", "shields"],
    weaponProficiencies: ["simple", "martial"],
    baseStats: { strength: 16, dexterity: 14, constitution: 16, intelligence: 8, wisdom: 10, charisma: 8 },
    healthPerLevel: 12,
    manaPerLevel: 0,
    spellcasting: false,
    subclasses: {
      berserker: { name: "Caminho do Berserker", description: "Fúria descontrolada que ignora a dor" },
      totem: { name: "Caminho do Guerreiro Totêmico", description: "Conexão espiritual com animais" },
      zealot: { name: "Caminho do Zelote", description: "Fúria divina que transcende a morte" },
      beast: { name: "Caminho da Besta", description: "Transformação em forma bestial" },
      wildMagic: { name: "Caminho da Magia Selvagem", description: "Fúria infundida com magia caótica" },
    },
  },
  bard: {
    name: "Bardo",
    description: "Um artista versátil que usa música e palavras para tecer magia inspiradora.",
    hitDice: "d8",
    primaryAbility: "charisma",
    savingThrows: ["dexterity", "charisma"],
    armorProficiencies: ["light"],
    weaponProficiencies: ["simple", "hand_crossbow", "longsword", "rapier", "shortsword"],
    baseStats: { strength: 8, dexterity: 14, constitution: 12, intelligence: 12, wisdom: 10, charisma: 16 },
    healthPerLevel: 8,
    manaPerLevel: 10,
    spellcasting: true,
    spellcastingAbility: "charisma",
    subclasses: {
      lore: { name: "Colégio do Conhecimento", description: "Mestre de segredos e sabedoria" },
      valor: { name: "Colégio da Bravura", description: "Inspiração através de feitos heroicos" },
      glamour: { name: "Colégio do Glamour", description: "Encantamento feérico irresistível" },
      swords: { name: "Colégio das Espadas", description: "Dança mortal com lâminas" },
      whispers: { name: "Colégio dos Sussurros", description: "Manipulação através do medo" },
      creation: { name: "Colégio da Criação", description: "Dar vida à canção da criação" },
    },
  },
  cleric: {
    name: "Clérigo",
    description: "Um campeão divino que canaliza o poder de sua divindade para curar e proteger.",
    hitDice: "d8",
    primaryAbility: "wisdom",
    savingThrows: ["wisdom", "charisma"],
    armorProficiencies: ["light", "medium", "shields"],
    weaponProficiencies: ["simple"],
    baseStats: { strength: 12, dexterity: 10, constitution: 14, intelligence: 10, wisdom: 16, charisma: 12 },
    healthPerLevel: 8,
    manaPerLevel: 10,
    spellcasting: true,
    spellcastingAbility: "wisdom",
    subclasses: {
      life: { name: "Domínio da Vida", description: "Cura suprema e proteção" },
      light: { name: "Domínio da Luz", description: "Fogo sagrado e revelação" },
      war: { name: "Domínio da Guerra", description: "Força marcial divina" },
      knowledge: { name: "Domínio do Conhecimento", description: "Sabedoria e visões" },
      tempest: { name: "Domínio da Tempestade", description: "Trovões e relâmpagos" },
      trickery: { name: "Domínio da Trapaça", description: "Ilusões e enganos" },
      death: { name: "Domínio da Morte", description: "Poder sobre a morte" },
      nature: { name: "Domínio da Natureza", description: "Conexão com o mundo natural" },
      forge: { name: "Domínio da Forja", description: "Criação e fogo" },
      grave: { name: "Domínio do Túmulo", description: "Guardiões entre vida e morte" },
      order: { name: "Domínio da Ordem", description: "Lei e autoridade divina" },
      peace: { name: "Domínio da Paz", description: "Harmonia e proteção" },
      twilight: { name: "Domínio do Crepúsculo", description: "Conforto na escuridão" },
    },
  },
  druid: {
    name: "Druida",
    description: "Um guardião da natureza que pode assumir formas animais e comandar os elementos.",
    hitDice: "d8",
    primaryAbility: "wisdom",
    savingThrows: ["intelligence", "wisdom"],
    armorProficiencies: ["light", "medium", "shields"],
    weaponProficiencies: ["club", "dagger", "dart", "javelin", "mace", "quarterstaff", "scimitar", "sickle", "sling", "spear"],
    baseStats: { strength: 10, dexterity: 12, constitution: 14, intelligence: 12, wisdom: 16, charisma: 10 },
    healthPerLevel: 8,
    manaPerLevel: 10,
    spellcasting: true,
    spellcastingAbility: "wisdom",
    subclasses: {
      land: { name: "Círculo da Terra", description: "Conexão com biomas específicos" },
      moon: { name: "Círculo da Lua", description: "Transformação em bestas poderosas" },
      dreams: { name: "Círculo dos Sonhos", description: "Cura feérica e proteção" },
      shepherd: { name: "Círculo do Pastor", description: "Comunhão com espíritos animais" },
      spores: { name: "Círculo dos Esporos", description: "Ciclo de vida e morte" },
      stars: { name: "Círculo das Estrelas", description: "Poder das constelações" },
      wildfire: { name: "Círculo do Fogo Selvagem", description: "Destruição e renovação" },
    },
  },
  fighter: {
    name: "Guerreiro",
    description: "Um mestre do combate marcial, versátil com qualquer arma ou estilo de luta.",
    hitDice: "d10",
    primaryAbility: "strength",
    savingThrows: ["strength", "constitution"],
    armorProficiencies: ["light", "medium", "heavy", "shields"],
    weaponProficiencies: ["simple", "martial"],
    baseStats: { strength: 16, dexterity: 12, constitution: 14, intelligence: 10, wisdom: 10, charisma: 10 },
    healthPerLevel: 10,
    manaPerLevel: 2,
    spellcasting: false,
    subclasses: {
      champion: { name: "Campeão", description: "Perfeição física e críticos devastadores" },
      battleMaster: { name: "Mestre de Batalha", description: "Manobras táticas superiores" },
      eldritchKnight: { name: "Cavaleiro Arcano", description: "Combinação de aço e magia" },
      arcaneArcher: { name: "Arqueiro Arcano", description: "Flechas imbuídas de magia" },
      cavalier: { name: "Cavaleiro", description: "Mestre da cavalaria e proteção" },
      samurai: { name: "Samurai", description: "Determinação inabalável" },
      psiWarrior: { name: "Guerreiro Psíquico", description: "Poderes mentais em combate" },
      runeKnight: { name: "Cavaleiro Rúnico", description: "Poder das runas gigantes" },
      echoKnight: { name: "Cavaleiro do Eco", description: "Manifestações de linhas temporais" },
    },
  },
  monk: {
    name: "Monge",
    description: "Um artista marcial que canaliza energia ki para feitos extraordinários.",
    hitDice: "d8",
    primaryAbility: "dexterity",
    savingThrows: ["strength", "dexterity"],
    armorProficiencies: [],
    weaponProficiencies: ["simple", "shortsword"],
    baseStats: { strength: 12, dexterity: 16, constitution: 12, intelligence: 10, wisdom: 14, charisma: 8 },
    healthPerLevel: 8,
    manaPerLevel: 8,
    spellcasting: false,
    subclasses: {
      openHand: { name: "Caminho da Mão Aberta", description: "Técnicas de combate desarmado" },
      shadow: { name: "Caminho da Sombra", description: "Artes das sombras e furtividade" },
      fourElements: { name: "Caminho dos Quatro Elementos", description: "Controle elemental" },
      kensei: { name: "Caminho do Kensei", description: "Maestria com armas" },
      drunkenMaster: { name: "Caminho do Mestre Bêbado", description: "Movimentos imprevisíveis" },
      sunSoul: { name: "Caminho da Alma Solar", description: "Energia radiante" },
      mercy: { name: "Caminho da Misericórdia", description: "Cura e morte através do toque" },
      astralSelf: { name: "Caminho do Eu Astral", description: "Manifestação do eu interior" },
    },
  },
  paladin: {
    name: "Paladino",
    description: "Um cavaleiro sagrado que combina proeza marcial com magia divina.",
    hitDice: "d10",
    primaryAbility: "strength",
    savingThrows: ["wisdom", "charisma"],
    armorProficiencies: ["light", "medium", "heavy", "shields"],
    weaponProficiencies: ["simple", "martial"],
    baseStats: { strength: 16, dexterity: 10, constitution: 12, intelligence: 8, wisdom: 12, charisma: 14 },
    healthPerLevel: 10,
    manaPerLevel: 8,
    spellcasting: true,
    spellcastingAbility: "charisma",
    subclasses: {
      devotion: { name: "Juramento de Devoção", description: "Ideais de justiça e virtude" },
      ancients: { name: "Juramento dos Ancestrais", description: "Proteção da luz e vida" },
      vengeance: { name: "Juramento de Vingança", description: "Punição implacável do mal" },
      conquest: { name: "Juramento de Conquista", description: "Dominação através do medo" },
      redemption: { name: "Juramento de Redenção", description: "Paz e segunda chances" },
      crown: { name: "Juramento da Coroa", description: "Lealdade à civilização" },
      glory: { name: "Juramento de Glória", description: "Feitos heroicos lendários" },
      watchers: { name: "Juramento dos Vigias", description: "Proteção contra ameaças extraplanares" },
      oathbreaker: { name: "Quebrador de Juramento", description: "Poder das trevas" },
    },
  },
  ranger: {
    name: "Patrulheiro",
    description: "Um caçador habilidoso que protege as fronteiras da civilização.",
    hitDice: "d10",
    primaryAbility: "dexterity",
    savingThrows: ["strength", "dexterity"],
    armorProficiencies: ["light", "medium", "shields"],
    weaponProficiencies: ["simple", "martial"],
    baseStats: { strength: 12, dexterity: 16, constitution: 12, intelligence: 10, wisdom: 14, charisma: 8 },
    healthPerLevel: 10,
    manaPerLevel: 6,
    spellcasting: true,
    spellcastingAbility: "wisdom",
    subclasses: {
      hunter: { name: "Caçador", description: "Especialista em derrotar presas" },
      beastMaster: { name: "Mestre das Bestas", description: "Companheiro animal leal" },
      gloomStalker: { name: "Perseguidor Sombrio", description: "Mestre da escuridão" },
      horizonWalker: { name: "Andarilho do Horizonte", description: "Guardião dos portais" },
      monsterSlayer: { name: "Caçador de Monstros", description: "Especialista contra criaturas" },
      feyWanderer: { name: "Andarilho Feérico", description: "Tocado pelo Feywild" },
      swarmkeeper: { name: "Guardião do Enxame", description: "Comandante de criaturas" },
      drakewarden: { name: "Guardião do Draco", description: "Companheiro dracônico" },
    },
  },
  rogue: {
    name: "Ladino",
    description: "Um especialista furtivo que usa astúcia e precisão para derrotar inimigos.",
    hitDice: "d8",
    primaryAbility: "dexterity",
    savingThrows: ["dexterity", "intelligence"],
    armorProficiencies: ["light"],
    weaponProficiencies: ["simple", "hand_crossbow", "longsword", "rapier", "shortsword"],
    baseStats: { strength: 10, dexterity: 16, constitution: 12, intelligence: 14, wisdom: 10, charisma: 12 },
    healthPerLevel: 8,
    manaPerLevel: 4,
    spellcasting: false,
    subclasses: {
      thief: { name: "Ladrão", description: "Mestre da agilidade e furto" },
      assassin: { name: "Assassino", description: "Morte rápida e silenciosa" },
      arcaneTrickster: { name: "Trapaceiro Arcano", description: "Magia e subterfúgio" },
      mastermind: { name: "Mentor", description: "Manipulação e táticas" },
      swashbuckler: { name: "Espadachim", description: "Combate elegante e audacioso" },
      inquisitive: { name: "Inquisitivo", description: "Dedução e investigação" },
      scout: { name: "Batedor", description: "Exploração e sobrevivência" },
      phantom: { name: "Fantasma", description: "Conexão com os mortos" },
      soulknife: { name: "Lâmina Psíquica", description: "Lâminas de energia mental" },
    },
  },
  sorcerer: {
    name: "Feiticeiro",
    description: "Um conjurador nato cujo poder mágico flui de uma linhagem ou evento extraordinário.",
    hitDice: "d6",
    primaryAbility: "charisma",
    savingThrows: ["constitution", "charisma"],
    armorProficiencies: [],
    weaponProficiencies: ["dagger", "dart", "sling", "quarterstaff", "light_crossbow"],
    baseStats: { strength: 8, dexterity: 12, constitution: 14, intelligence: 10, wisdom: 10, charisma: 16 },
    healthPerLevel: 6,
    manaPerLevel: 12,
    spellcasting: true,
    spellcastingAbility: "charisma",
    subclasses: {
      draconicBloodline: { name: "Linhagem Dracônica", description: "Ancestralidade de dragão" },
      wildMagic: { name: "Magia Selvagem", description: "Caos mágico imprevisível" },
      divineSoul: { name: "Alma Divina", description: "Toque de poder divino" },
      shadowMagic: { name: "Magia das Sombras", description: "Poder do Shadowfell" },
      stormSorcery: { name: "Feitiçaria da Tempestade", description: "Fúria dos elementos" },
      aberrantMind: { name: "Mente Aberrante", description: "Poderes psíquicos alienígenas" },
      clockworkSoul: { name: "Alma Mecânica", description: "Ordem cósmica de Mechanus" },
      lunarSorcery: { name: "Feitiçaria Lunar", description: "Poder das fases da lua" },
    },
  },
  warlock: {
    name: "Bruxo",
    description: "Um conjurador que obteve poder através de um pacto com uma entidade sobrenatural.",
    hitDice: "d8",
    primaryAbility: "charisma",
    savingThrows: ["wisdom", "charisma"],
    armorProficiencies: ["light"],
    weaponProficiencies: ["simple"],
    baseStats: { strength: 8, dexterity: 12, constitution: 14, intelligence: 12, wisdom: 10, charisma: 16 },
    healthPerLevel: 8,
    manaPerLevel: 8,
    spellcasting: true,
    spellcastingAbility: "charisma",
    subclasses: {
      archfey: { name: "O Arquifada", description: "Pacto com senhor feérico" },
      fiend: { name: "O Corruptor", description: "Pacto com demônio ou diabo" },
      greatOldOne: { name: "O Grande Antigo", description: "Pacto com entidade cósmica" },
      celestial: { name: "O Celestial", description: "Pacto com ser de luz" },
      hexblade: { name: "A Lâmina Maldita", description: "Pacto com entidade sombria" },
      fathomless: { name: "O Insondável", description: "Pacto com criatura das profundezas" },
      genie: { name: "O Gênio", description: "Pacto com gênio elemental" },
      undead: { name: "O Morto-Vivo", description: "Pacto com senhor morto-vivo" },
    },
  },
  wizard: {
    name: "Mago",
    description: "Um estudioso das artes arcanas que domina magia através de estudo e prática.",
    hitDice: "d6",
    primaryAbility: "intelligence",
    savingThrows: ["intelligence", "wisdom"],
    armorProficiencies: [],
    weaponProficiencies: ["dagger", "dart", "sling", "quarterstaff", "light_crossbow"],
    baseStats: { strength: 8, dexterity: 12, constitution: 12, intelligence: 16, wisdom: 12, charisma: 10 },
    healthPerLevel: 6,
    manaPerLevel: 12,
    spellcasting: true,
    spellcastingAbility: "intelligence",
    subclasses: {
      abjuration: { name: "Escola de Abjuração", description: "Proteção e banimento" },
      conjuration: { name: "Escola de Conjuração", description: "Invocação e teletransporte" },
      divination: { name: "Escola de Adivinhação", description: "Visões e previsões" },
      enchantment: { name: "Escola de Encantamento", description: "Controle mental" },
      evocation: { name: "Escola de Evocação", description: "Energia destrutiva" },
      illusion: { name: "Escola de Ilusão", description: "Engano e miragens" },
      necromancy: { name: "Escola de Necromancia", description: "Poder sobre vida e morte" },
      transmutation: { name: "Escola de Transmutação", description: "Transformação da matéria" },
      bladesinging: { name: "Canto das Lâminas", description: "Dança élfica de combate" },
      warMagic: { name: "Magia de Guerra", description: "Combate arcano tático" },
      chronurgy: { name: "Cronurgia", description: "Manipulação do tempo" },
      graviturgy: { name: "Graviturgia", description: "Controle da gravidade" },
      scribes: { name: "Ordem dos Escribas", description: "Mestre do grimório vivo" },
    },
  },
} as const;

export type CharacterClass = keyof typeof CHARACTER_CLASSES;

// ============================================
// SPELL SCHOOLS
// ============================================

export const SPELL_SCHOOLS = {
  abjuration: { name: "Abjuração", description: "Magias protetoras e de banimento", color: "#60A5FA" },
  conjuration: { name: "Conjuração", description: "Invocação de criaturas e objetos", color: "#FBBF24" },
  divination: { name: "Adivinhação", description: "Revelação de informações ocultas", color: "#A78BFA" },
  enchantment: { name: "Encantamento", description: "Influência sobre mentes", color: "#F472B6" },
  evocation: { name: "Evocação", description: "Manipulação de energia mágica", color: "#EF4444" },
  illusion: { name: "Ilusão", description: "Criação de imagens e sons falsos", color: "#8B5CF6" },
  necromancy: { name: "Necromancia", description: "Manipulação de energia vital", color: "#6B7280" },
  transmutation: { name: "Transmutação", description: "Alteração de matéria e energia", color: "#10B981" },
} as const;

export type SpellSchool = keyof typeof SPELL_SCHOOLS;

// ============================================
// SPELLS DATABASE (D&D 5e 2024)
// ============================================

export interface Spell {
  id: string;
  name: string;
  level: number; // 0 = cantrip
  school: SpellSchool;
  castingTime: string;
  range: string;
  components: { verbal: boolean; somatic: boolean; material?: string };
  duration: string;
  description: string;
  damage?: { dice: string; type: string; scaling?: string };
  healing?: { dice: string; scaling?: string };
  savingThrow?: string;
  classes: CharacterClass[];
  concentration: boolean;
  ritual: boolean;
}

export const SPELLS: Record<string, Spell> = {
  // ========== CANTRIPS (Level 0) ==========
  fire_bolt: {
    id: "fire_bolt",
    name: "Rajada de Fogo",
    level: 0,
    school: "evocation",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Você arremessa um feixe de fogo em uma criatura ou objeto ao alcance. Faça um ataque à distância com magia. Se acertar, o alvo sofre 1d10 de dano de fogo.",
    damage: { dice: "1d10", type: "fire", scaling: "1d10 por 4 níveis" },
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  eldritch_blast: {
    id: "eldritch_blast",
    name: "Rajada Mística",
    level: 0,
    school: "evocation",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Um feixe de energia crepitante dispara em direção a uma criatura ao alcance. Faça um ataque à distância com magia. Se acertar, o alvo sofre 1d10 de dano de força.",
    damage: { dice: "1d10", type: "force", scaling: "+1 feixe nos níveis 5, 11, 17" },
    classes: ["warlock"],
    concentration: false,
    ritual: false,
  },
  sacred_flame: {
    id: "sacred_flame",
    name: "Chama Sagrada",
    level: 0,
    school: "evocation",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Radiância semelhante a chamas desce sobre uma criatura que você pode ver ao alcance. O alvo deve ter sucesso em um teste de resistência de Destreza ou sofrer 1d8 de dano radiante.",
    damage: { dice: "1d8", type: "radiant", scaling: "1d8 por 4 níveis" },
    savingThrow: "dexterity",
    classes: ["cleric"],
    concentration: false,
    ritual: false,
  },
  vicious_mockery: {
    id: "vicious_mockery",
    name: "Zombaria Viciosa",
    level: 0,
    school: "enchantment",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: false },
    duration: "Instantânea",
    description: "Você desencadeia uma série de insultos imbuídos de encantamento sutil em uma criatura. Se ela puder ouvi-lo, deve ter sucesso em um teste de resistência de Sabedoria ou sofrer 1d4 de dano psíquico e ter desvantagem no próximo ataque.",
    damage: { dice: "1d4", type: "psychic", scaling: "1d4 por 4 níveis" },
    savingThrow: "wisdom",
    classes: ["bard"],
    concentration: false,
    ritual: false,
  },
  ray_of_frost: {
    id: "ray_of_frost",
    name: "Raio de Gelo",
    level: 0,
    school: "evocation",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Um raio gélido de luz branco-azulada dispara em direção a uma criatura ao alcance. Faça um ataque à distância com magia. Se acertar, sofre 1d8 de dano de frio e seu deslocamento é reduzido em 3 metros até o início do seu próximo turno.",
    damage: { dice: "1d8", type: "cold", scaling: "1d8 por 4 níveis" },
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  shocking_grasp: {
    id: "shocking_grasp",
    name: "Toque Chocante",
    level: 0,
    school: "evocation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Relâmpagos saltam de sua mão para uma criatura que você tenta tocar. Faça um ataque corpo a corpo com magia. Você tem vantagem se o alvo estiver usando armadura de metal. Se acertar, o alvo sofre 1d8 de dano elétrico e não pode usar reações até o início do próximo turno dele.",
    damage: { dice: "1d8", type: "lightning", scaling: "1d8 por 4 níveis" },
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  produce_flame: {
    id: "produce_flame",
    name: "Produzir Chamas",
    level: 0,
    school: "conjuration",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "10 minutos",
    description: "Uma chama tremeluzente aparece em sua mão. Ela ilumina luz plena em um raio de 3 metros. Você pode arremessá-la em uma criatura a até 9 metros, causando 1d8 de dano de fogo.",
    damage: { dice: "1d8", type: "fire", scaling: "1d8 por 4 níveis" },
    classes: ["druid"],
    concentration: false,
    ritual: false,
  },
  shillelagh: {
    id: "shillelagh",
    name: "Bordão Místico",
    level: 0,
    school: "transmutation",
    castingTime: "1 ação bônus",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "visco e uma folha de trevo" },
    duration: "1 minuto",
    description: "A madeira de um cajado ou clava que você está segurando é imbuída com o poder da natureza. Pelo duração, você pode usar seu modificador de conjuração para ataques e dano, e o dado de dano da arma se torna 1d8.",
    classes: ["druid"],
    concentration: false,
    ritual: false,
  },
  prestidigitation: {
    id: "prestidigitation",
    name: "Prestidigitação",
    level: 0,
    school: "transmutation",
    castingTime: "1 ação",
    range: "3 metros",
    components: { verbal: true, somatic: true },
    duration: "Até 1 hora",
    description: "Este truque é um exercício menor de magia usado por conjuradores novatos. Você cria um dos seguintes efeitos mágicos: efeito sensorial inofensivo, acender/apagar uma vela, limpar/sujar um objeto pequeno, aquecer/esfriar material, fazer uma marca ou símbolo aparecer, criar uma bugiganga ilusória.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  mage_hand: {
    id: "mage_hand",
    name: "Mão Mágica",
    level: 0,
    school: "conjuration",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true },
    duration: "1 minuto",
    description: "Uma mão espectral e flutuante aparece em um ponto que você escolher ao alcance. A mão pode manipular objetos, abrir portas e recipientes, guardar ou recuperar itens de recipientes abertos, ou despejar o conteúdo de um frasco. A mão não pode atacar, ativar itens mágicos ou carregar mais de 5 kg.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  light: {
    id: "light",
    name: "Luz",
    level: 0,
    school: "evocation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: false, material: "um vaga-lume ou musgo fosforescente" },
    duration: "1 hora",
    description: "Você toca um objeto que não seja maior que 3 metros em qualquer dimensão. Até a magia acabar, o objeto emite luz plena em um raio de 6 metros e luz penumbra por mais 6 metros.",
    classes: ["bard", "cleric", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  minor_illusion: {
    id: "minor_illusion",
    name: "Ilusão Menor",
    level: 0,
    school: "illusion",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: false, somatic: true, material: "um pouco de lã" },
    duration: "1 minuto",
    description: "Você cria um som ou uma imagem de um objeto ao alcance que dura pela duração. A ilusão também termina se você dispensá-la como uma ação ou conjurar esta magia novamente.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  guidance: {
    id: "guidance",
    name: "Orientação",
    level: 0,
    school: "divination",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 minuto",
    description: "Você toca uma criatura voluntária. Uma vez antes da magia acabar, o alvo pode rolar um d4 e adicionar o número rolado a um teste de habilidade de sua escolha. Ele pode rolar o dado antes ou depois de fazer o teste.",
    classes: ["cleric", "druid"],
    concentration: true,
    ritual: false,
  },
  resistance: {
    id: "resistance",
    name: "Resistência",
    level: 0,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "uma capa em miniatura" },
    duration: "Concentração, até 1 minuto",
    description: "Você toca uma criatura voluntária. Uma vez antes da magia acabar, o alvo pode rolar um d4 e adicionar o número rolado a um teste de resistência de sua escolha.",
    classes: ["cleric", "druid"],
    concentration: true,
    ritual: false,
  },
  spare_the_dying: {
    id: "spare_the_dying",
    name: "Poupar os Moribundos",
    level: 0,
    school: "necromancy",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Você toca uma criatura viva que tenha 0 pontos de vida. A criatura se torna estável. Esta magia não tem efeito em mortos-vivos ou constructos.",
    classes: ["cleric"],
    concentration: false,
    ritual: false,
  },
  thaumaturgy: {
    id: "thaumaturgy",
    name: "Taumaturgia",
    level: 0,
    school: "transmutation",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: false },
    duration: "Até 1 minuto",
    description: "Você manifesta um prodígio menor, um sinal de poder sobrenatural. Você cria um dos efeitos: sua voz troveja, chamas tremeluzem, tremores inofensivos, um som instantâneo, uma porta ou janela abre ou fecha, ou seus olhos mudam de aparência.",
    classes: ["cleric"],
    concentration: false,
    ritual: false,
  },
  druidcraft: {
    id: "druidcraft",
    name: "Druidismo",
    level: 0,
    school: "transmutation",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Sussurrando para os espíritos da natureza, você cria um dos seguintes efeitos: prever o clima, fazer uma flor desabrochar, criar um efeito sensorial inofensivo, ou acender/apagar uma pequena chama.",
    classes: ["druid"],
    concentration: false,
    ritual: false,
  },
  poison_spray: {
    id: "poison_spray",
    name: "Borrifar Veneno",
    level: 0,
    school: "conjuration",
    castingTime: "1 ação",
    range: "3 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Você estende sua mão em direção a uma criatura que você pode ver ao alcance e projeta uma nuvem de gás nocivo. A criatura deve ter sucesso em um teste de resistência de Constituição ou sofrer 1d12 de dano de veneno.",
    damage: { dice: "1d12", type: "poison", scaling: "1d12 por 4 níveis" },
    savingThrow: "constitution",
    classes: ["druid", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  chill_touch: {
    id: "chill_touch",
    name: "Toque Arrepiante",
    level: 0,
    school: "necromancy",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "1 rodada",
    description: "Você cria uma mão fantasmagórica e esquelética no espaço de uma criatura ao alcance. Faça um ataque à distância com magia. Se acertar, o alvo sofre 1d8 de dano necrótico e não pode recuperar pontos de vida até o início do seu próximo turno.",
    damage: { dice: "1d8", type: "necrotic", scaling: "1d8 por 4 níveis" },
    classes: ["sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  blade_ward: {
    id: "blade_ward",
    name: "Proteção contra Lâminas",
    level: 0,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "1 rodada",
    description: "Você estende sua mão e traça um símbolo de proteção no ar. Até o final do seu próximo turno, você tem resistência a dano cortante, perfurante e contundente causado por ataques com arma.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  true_strike: {
    id: "true_strike",
    name: "Golpe Certeiro",
    level: 0,
    school: "divination",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: false, somatic: true },
    duration: "Concentração, até 1 rodada",
    description: "Você estende sua mão e aponta um dedo para um alvo ao alcance. Sua magia concede a você uma breve percepção das defesas do alvo. No seu próximo turno, você ganha vantagem na primeira jogada de ataque contra o alvo.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },

  // ========== 1st LEVEL SPELLS ==========
  magic_missile: {
    id: "magic_missile",
    name: "Mísseis Mágicos",
    level: 1,
    school: "evocation",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Você cria três dardos brilhantes de força mágica. Cada dardo atinge uma criatura de sua escolha que você pode ver ao alcance. Cada dardo causa 1d4+1 de dano de força. Os dardos atingem simultaneamente.",
    damage: { dice: "3d4+3", type: "force", scaling: "+1 dardo por nível acima do 1º" },
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  cure_wounds: {
    id: "cure_wounds",
    name: "Curar Ferimentos",
    level: 1,
    school: "evocation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Uma criatura que você toca recupera um número de pontos de vida igual a 1d8 + seu modificador de habilidade de conjuração. Esta magia não tem efeito em mortos-vivos ou constructos.",
    healing: { dice: "1d8", scaling: "+1d8 por nível acima do 1º" },
    classes: ["bard", "cleric", "druid", "paladin", "ranger"],
    concentration: false,
    ritual: false,
  },
  shield: {
    id: "shield",
    name: "Escudo",
    level: 1,
    school: "abjuration",
    castingTime: "1 reação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "1 rodada",
    description: "Uma barreira invisível de força mágica aparece e protege você. Até o início do seu próximo turno, você tem +5 de bônus na CA, incluindo contra o ataque que desencadeou a magia, e você não sofre dano de mísseis mágicos.",
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  burning_hands: {
    id: "burning_hands",
    name: "Mãos Flamejantes",
    level: 1,
    school: "evocation",
    castingTime: "1 ação",
    range: "Pessoal (cone de 4,5 metros)",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Enquanto você mantém suas mãos com os polegares tocando e os dedos abertos, uma fina camada de chamas dispara de suas mãos estendidas. Cada criatura em um cone de 4,5 metros deve fazer um teste de resistência de Destreza. Uma criatura sofre 3d6 de dano de fogo se falhar, ou metade se passar.",
    damage: { dice: "3d6", type: "fire", scaling: "+1d6 por nível acima do 1º" },
    savingThrow: "dexterity",
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  thunderwave: {
    id: "thunderwave",
    name: "Onda Trovejante",
    level: 1,
    school: "evocation",
    castingTime: "1 ação",
    range: "Pessoal (cubo de 4,5 metros)",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Uma onda de força trovejante varre a partir de você. Cada criatura em um cubo de 4,5 metros originando de você deve fazer um teste de resistência de Constituição. Se falhar, sofre 2d8 de dano de trovão e é empurrada 3 metros para longe de você. Se passar, sofre metade do dano e não é empurrada.",
    damage: { dice: "2d8", type: "thunder", scaling: "+1d8 por nível acima do 1º" },
    savingThrow: "constitution",
    classes: ["bard", "druid", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  healing_word: {
    id: "healing_word",
    name: "Palavra Curativa",
    level: 1,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "18 metros",
    components: { verbal: true, somatic: false },
    duration: "Instantânea",
    description: "Uma criatura de sua escolha que você pode ver ao alcance recupera pontos de vida iguais a 1d4 + seu modificador de habilidade de conjuração. Esta magia não tem efeito em mortos-vivos ou constructos.",
    healing: { dice: "1d4", scaling: "+1d4 por nível acima do 1º" },
    classes: ["bard", "cleric", "druid"],
    concentration: false,
    ritual: false,
  },
  mage_armor: {
    id: "mage_armor",
    name: "Armadura Arcana",
    level: 1,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "um pedaço de couro curado" },
    duration: "8 horas",
    description: "Você toca uma criatura voluntária que não está usando armadura, e uma força mágica protetora a envolve até a magia acabar. A CA base do alvo se torna 13 + seu modificador de Destreza. A magia termina se o alvo vestir uma armadura ou se você dispensá-la como uma ação.",
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  detect_magic: {
    id: "detect_magic",
    name: "Detectar Magia",
    level: 1,
    school: "divination",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 10 minutos",
    description: "Pela duração, você sente a presença de magia a até 9 metros de você. Se você sentir magia dessa forma, pode usar sua ação para ver uma aura fraca ao redor de qualquer criatura ou objeto visível na área que carregue magia, e você descobre sua escola de magia, se houver.",
    classes: ["bard", "cleric", "druid", "paladin", "ranger", "sorcerer", "wizard"],
    concentration: true,
    ritual: true,
  },
  sleep: {
    id: "sleep",
    name: "Sono",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação",
    range: "27 metros",
    components: { verbal: true, somatic: true, material: "uma pitada de areia fina, pétalas de rosa ou um grilo" },
    duration: "1 minuto",
    description: "Esta magia faz criaturas caírem em um sono mágico. Role 5d8; o total é quantos pontos de vida de criaturas esta magia pode afetar. Criaturas a até 6 metros de um ponto que você escolher ao alcance são afetadas em ordem crescente de seus pontos de vida atuais.",
    classes: ["bard", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  charm_person: {
    id: "charm_person",
    name: "Enfeitiçar Pessoa",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true },
    duration: "1 hora",
    description: "Você tenta enfeitiçar um humanoide que você pode ver ao alcance. Ele deve fazer um teste de resistência de Sabedoria, e faz isso com vantagem se você ou seus companheiros estiverem lutando contra ele. Se falhar, ele fica enfeitiçado por você até a magia acabar ou até você ou seus companheiros fazerem algo prejudicial a ele.",
    savingThrow: "wisdom",
    classes: ["bard", "druid", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  guiding_bolt: {
    id: "guiding_bolt",
    name: "Raio Guiador",
    level: 1,
    school: "evocation",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "1 rodada",
    description: "Um lampejo de luz dispara em direção a uma criatura de sua escolha ao alcance. Faça um ataque à distância com magia contra o alvo. Se acertar, o alvo sofre 4d6 de dano radiante, e o próximo ataque feito contra este alvo antes do final do seu próximo turno tem vantagem.",
    damage: { dice: "4d6", type: "radiant", scaling: "+1d6 por nível acima do 1º" },
    classes: ["cleric"],
    concentration: false,
    ritual: false,
  },
  bless: {
    id: "bless",
    name: "Bênção",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "uma borrifada de água benta" },
    duration: "Concentração, até 1 minuto",
    description: "Você abençoa até três criaturas de sua escolha ao alcance. Sempre que um alvo fizer uma jogada de ataque ou um teste de resistência antes da magia acabar, o alvo pode rolar um d4 e adicionar o número rolado à jogada de ataque ou teste de resistência.",
    classes: ["cleric", "paladin"],
    concentration: true,
    ritual: false,
  },
  hex: {
    id: "hex",
    name: "Maldição",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação bônus",
    range: "27 metros",
    components: { verbal: true, somatic: true, material: "o olho petrificado de uma salamandra" },
    duration: "Concentração, até 1 hora",
    description: "Você coloca uma maldição em uma criatura que você pode ver ao alcance. Até a magia acabar, você causa 1d6 de dano necrótico extra ao alvo sempre que você o acertar com um ataque. Além disso, escolha uma habilidade quando você conjura a magia. O alvo tem desvantagem em testes de habilidade feitos com a habilidade escolhida.",
    damage: { dice: "1d6", type: "necrotic" },
    classes: ["warlock"],
    concentration: true,
    ritual: false,
  },
  hunters_mark: {
    id: "hunters_mark",
    name: "Marca do Caçador",
    level: 1,
    school: "divination",
    castingTime: "1 ação bônus",
    range: "27 metros",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 hora",
    description: "Você escolhe uma criatura que você pode ver ao alcance e a marca misticamente como sua presa. Até a magia acabar, você causa 1d6 de dano extra ao alvo sempre que você o acertar com um ataque com arma, e você tem vantagem em qualquer teste de Sabedoria (Percepção) ou Sabedoria (Sobrevivência) para encontrá-lo.",
    damage: { dice: "1d6", type: "weapon" },
    classes: ["ranger"],
    concentration: true,
    ritual: false,
  },
  faerie_fire: {
    id: "faerie_fire",
    name: "Fogo das Fadas",
    level: 1,
    school: "evocation",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "Cada objeto em um cubo de 6 metros ao alcance é delineado em luz azul, verde ou violeta (sua escolha). Qualquer criatura na área quando a magia é conjurada também é delineada em luz se falhar em um teste de resistência de Destreza. Ataques contra criaturas afetadas têm vantagem, e elas não podem se beneficiar de invisibilidade.",
    savingThrow: "dexterity",
    classes: ["bard", "druid"],
    concentration: true,
    ritual: false,
  },
  entangle: {
    id: "entangle",
    name: "Enredar",
    level: 1,
    school: "conjuration",
    castingTime: "1 ação",
    range: "27 metros",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 minuto",
    description: "Ervas daninhas e vinhas brotam do chão em um quadrado de 6 metros começando de um ponto ao alcance. Pela duração, estas plantas tornam o terreno difícil. Uma criatura na área quando você conjura a magia deve ter sucesso em um teste de resistência de Força ou ficar contida pelas plantas até a magia acabar.",
    savingThrow: "strength",
    classes: ["druid"],
    concentration: true,
    ritual: false,
  },
  disguise_self: {
    id: "disguise_self",
    name: "Disfarçar-se",
    level: 1,
    school: "illusion",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "1 hora",
    description: "Você faz com que você mesmo — incluindo suas roupas, armadura, armas e outros pertences em sua pessoa — pareça diferente até a magia acabar ou até você usar sua ação para dispensá-la. Você pode parecer até 30 cm mais alto ou mais baixo e pode parecer magro, gordo ou algo entre os dois.",
    classes: ["bard", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  feather_fall: {
    id: "feather_fall",
    name: "Queda Suave",
    level: 1,
    school: "transmutation",
    castingTime: "1 reação",
    range: "18 metros",
    components: { verbal: true, somatic: false, material: "uma pequena pena ou um pouco de penugem" },
    duration: "1 minuto",
    description: "Escolha até cinco criaturas em queda ao alcance. A taxa de queda de uma criatura em queda diminui para 18 metros por rodada até a magia acabar. Se a criatura pousar antes da magia acabar, ela não sofre dano de queda e pode pousar em pé, e a magia termina para aquela criatura.",
    classes: ["bard", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  fog_cloud: {
    id: "fog_cloud",
    name: "Névoa",
    level: 1,
    school: "conjuration",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 hora",
    description: "Você cria uma esfera de névoa de 6 metros de raio centrada em um ponto ao alcance. A esfera se espalha ao redor de cantos, e sua área é fortemente obscurecida. Ela dura pela duração ou até um vento de velocidade moderada ou maior (pelo menos 15 km/h) a disperse.",
    classes: ["druid", "ranger", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  identify: {
    id: "identify",
    name: "Identificação",
    level: 1,
    school: "divination",
    castingTime: "1 minuto",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "uma pérola no valor de pelo menos 100 po e uma pena de coruja" },
    duration: "Instantânea",
    description: "Você escolhe um objeto que você deve tocar durante toda a conjuração da magia. Se for um item mágico ou algum outro objeto imbuído de magia, você descobre suas propriedades e como usá-las, se requer sintonização para usar, e quantas cargas ele tem, se houver.",
    classes: ["bard", "wizard"],
    concentration: false,
    ritual: true,
  },
  inflict_wounds: {
    id: "inflict_wounds",
    name: "Infligir Ferimentos",
    level: 1,
    school: "necromancy",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Faça um ataque corpo a corpo com magia contra uma criatura que você pode alcançar. Se acertar, o alvo sofre 3d10 de dano necrótico.",
    damage: { dice: "3d10", type: "necrotic", scaling: "+1d10 por nível acima do 1º" },
    classes: ["cleric"],
    concentration: false,
    ritual: false,
  },
  sanctuary: {
    id: "sanctuary",
    name: "Santuário",
    level: 1,
    school: "abjuration",
    castingTime: "1 ação bônus",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "um pequeno espelho de prata" },
    duration: "1 minuto",
    description: "Você protege uma criatura ao alcance contra ataques. Até a magia acabar, qualquer criatura que mirar a criatura protegida com um ataque ou uma magia prejudicial deve primeiro fazer um teste de resistência de Sabedoria. Se falhar, a criatura deve escolher um novo alvo ou perder o ataque ou magia.",
    savingThrow: "wisdom",
    classes: ["cleric"],
    concentration: false,
    ritual: false,
  },
  shield_of_faith: {
    id: "shield_of_faith",
    name: "Escudo da Fé",
    level: 1,
    school: "abjuration",
    castingTime: "1 ação bônus",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um pequeno pergaminho com um texto sagrado escrito nele" },
    duration: "Concentração, até 10 minutos",
    description: "Um campo cintilante aparece e envolve uma criatura de sua escolha ao alcance, concedendo a ela um bônus de +2 na CA pela duração.",
    classes: ["cleric", "paladin"],
    concentration: true,
    ritual: false,
  },
  command: {
    id: "command",
    name: "Comando",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: false },
    duration: "1 rodada",
    description: "Você fala uma palavra de comando a uma criatura que você pode ver ao alcance. O alvo deve ter sucesso em um teste de resistência de Sabedoria ou seguir o comando no próximo turno dele. Comandos comuns: Aproximar, Largar, Fugir, Cair, Parar.",
    savingThrow: "wisdom",
    classes: ["cleric", "paladin"],
    concentration: false,
    ritual: false,
  },
  divine_favor: {
    id: "divine_favor",
    name: "Favor Divino",
    level: 1,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 minuto",
    description: "Sua prece empodera você com radiância divina. Até a magia acabar, seus ataques com arma causam 1d4 de dano radiante extra quando acertam.",
    damage: { dice: "1d4", type: "radiant" },
    classes: ["paladin"],
    concentration: true,
    ritual: false,
  },
  heroism: {
    id: "heroism",
    name: "Heroísmo",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 minuto",
    description: "Uma criatura voluntária que você toca é imbuída com bravura. Até a magia acabar, a criatura é imune a ser amedrontada e ganha pontos de vida temporários iguais ao seu modificador de habilidade de conjuração no início de cada um de seus turnos.",
    classes: ["bard", "paladin"],
    concentration: true,
    ritual: false,
  },
  wrathful_smite: {
    id: "wrathful_smite",
    name: "Punição Colérica",
    level: 1,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "A próxima vez que você acertar com um ataque corpo a corpo com arma durante a duração desta magia, seu ataque causa 1d6 de dano psíquico extra. Além disso, se o alvo for uma criatura, ele deve fazer um teste de resistência de Sabedoria ou ficar amedrontado de você até a magia acabar.",
    damage: { dice: "1d6", type: "psychic" },
    savingThrow: "wisdom",
    classes: ["paladin"],
    concentration: true,
    ritual: false,
  },
  thunderous_smite: {
    id: "thunderous_smite",
    name: "Punição Trovejante",
    level: 1,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "A primeira vez que você acertar com um ataque corpo a corpo com arma durante a duração desta magia, sua arma soa como um trovão audível a 90 metros de você, e o ataque causa 2d6 de dano de trovão extra ao alvo. Além disso, se o alvo for uma criatura, ele deve ter sucesso em um teste de resistência de Força ou ser empurrado 3 metros para longe de você e cair no chão.",
    damage: { dice: "2d6", type: "thunder" },
    savingThrow: "strength",
    classes: ["paladin"],
    concentration: true,
    ritual: false,
  },
  searing_smite: {
    id: "searing_smite",
    name: "Punição Cauterizante",
    level: 1,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "A próxima vez que você acertar uma criatura com um ataque corpo a corpo com arma durante a duração da magia, sua arma flameja com calor branco, e o ataque causa 1d6 de dano de fogo extra ao alvo e o incendeia. No início de cada um de seus turnos até a magia acabar, o alvo deve fazer um teste de resistência de Constituição. Se falhar, ele sofre 1d6 de dano de fogo. Se passar, a magia termina.",
    damage: { dice: "1d6", type: "fire" },
    savingThrow: "constitution",
    classes: ["paladin"],
    concentration: true,
    ritual: false,
  },
  compelled_duel: {
    id: "compelled_duel",
    name: "Duelo Compelido",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação bônus",
    range: "9 metros",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "Você tenta compelir uma criatura a um duelo. Uma criatura de sua escolha que você pode ver ao alcance deve fazer um teste de resistência de Sabedoria. Se falhar, a criatura é atraída a você, compelida por sua demanda divina. Ela tem desvantagem em jogadas de ataque contra criaturas que não sejam você, e deve fazer um teste de resistência de Sabedoria cada vez que tentar se mover para um espaço que esteja a mais de 9 metros de você.",
    savingThrow: "wisdom",
    classes: ["paladin"],
    concentration: true,
    ritual: false,
  },
  snare: {
    id: "snare",
    name: "Armadilha",
    level: 1,
    school: "abjuration",
    castingTime: "1 minuto",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "7,5 metros de corda, que a magia consome" },
    duration: "8 horas",
    description: "Enquanto você conjura esta magia, você usa a corda para criar um círculo com um raio de 1,5 metro no chão ou no piso. Quando você termina de conjurar, a corda desaparece e o círculo se torna uma armadilha mágica. A armadilha é quase invisível e requer um teste de Inteligência (Investigação) bem-sucedido contra sua CD de magia para ser discernida.",
    savingThrow: "dexterity",
    classes: ["druid", "ranger", "wizard"],
    concentration: false,
    ritual: false,
  },
  goodberry: {
    id: "goodberry",
    name: "Frutos Mágicos",
    level: 1,
    school: "transmutation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "um raminho de visco" },
    duration: "Instantânea",
    description: "Até dez frutas aparecem em sua mão e são infundidas com magia pelo duração. Uma criatura pode usar sua ação para comer uma fruta. Comer uma fruta restaura 1 ponto de vida, e a fruta fornece nutrição suficiente para sustentar uma criatura por um dia. As frutas perdem sua potência se não forem consumidas dentro de 24 horas após a conjuração desta magia.",
    healing: { dice: "1" },
    classes: ["druid", "ranger"],
    concentration: false,
    ritual: false,
  },
  speak_with_animals: {
    id: "speak_with_animals",
    name: "Falar com Animais",
    level: 1,
    school: "divination",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "10 minutos",
    description: "Você ganha a habilidade de compreender e se comunicar verbalmente com bestas pela duração. O conhecimento e consciência de muitas bestas é limitado por sua inteligência, mas no mínimo, bestas podem lhe dar informações sobre locais e monstros próximos, incluindo o que eles podem perceber ou perceberam no dia anterior.",
    classes: ["bard", "druid", "ranger"],
    concentration: false,
    ritual: true,
  },
  animal_friendship: {
    id: "animal_friendship",
    name: "Amizade Animal",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "um pedaço de comida" },
    duration: "24 horas",
    description: "Esta magia permite que você convença uma besta de que você não significa nenhum mal a ela. Escolha uma besta que você pode ver ao alcance. Ela deve ver e ouvir você. Se a Inteligência da besta for 4 ou maior, a magia falha. Caso contrário, a besta deve ter sucesso em um teste de resistência de Sabedoria ou ficar enfeitiçada por você pela duração da magia.",
    savingThrow: "wisdom",
    classes: ["bard", "druid", "ranger"],
    concentration: false,
    ritual: false,
  },
  longstrider: {
    id: "longstrider",
    name: "Passos Longos",
    level: 1,
    school: "transmutation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "uma pitada de terra" },
    duration: "1 hora",
    description: "Você toca uma criatura. O deslocamento do alvo aumenta em 3 metros até a magia acabar.",
    classes: ["bard", "druid", "ranger", "wizard"],
    concentration: false,
    ritual: false,
  },
  jump: {
    id: "jump",
    name: "Salto",
    level: 1,
    school: "transmutation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "uma pata traseira de gafanhoto" },
    duration: "1 minuto",
    description: "Você toca uma criatura. A distância de salto da criatura é triplicada até a magia acabar.",
    classes: ["druid", "ranger", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  absorb_elements: {
    id: "absorb_elements",
    name: "Absorver Elementos",
    level: 1,
    school: "abjuration",
    castingTime: "1 reação",
    range: "Pessoal",
    components: { verbal: false, somatic: true },
    duration: "1 rodada",
    description: "A magia captura parte da energia recebida, diminuindo seu efeito em você e armazenando-a para seu próximo ataque corpo a corpo. Você tem resistência ao tipo de dano que desencadeou até o início do seu próximo turno. Além disso, a primeira vez que você acertar com um ataque corpo a corpo no seu próximo turno, o alvo sofre 1d6 de dano extra do tipo que desencadeou, e a magia termina.",
    damage: { dice: "1d6", type: "elemental", scaling: "+1d6 por nível acima do 1º" },
    classes: ["druid", "ranger", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  chromatic_orb: {
    id: "chromatic_orb",
    name: "Orbe Cromática",
    level: 1,
    school: "evocation",
    castingTime: "1 ação",
    range: "27 metros",
    components: { verbal: true, somatic: true, material: "um diamante no valor de pelo menos 50 po" },
    duration: "Instantânea",
    description: "Você arremessa uma esfera de energia de 10 centímetros de diâmetro em uma criatura que você pode ver ao alcance. Você escolhe ácido, frio, fogo, relâmpago, veneno ou trovão para o tipo de orbe que você cria, e então faz um ataque à distância com magia contra o alvo. Se o ataque acertar, a criatura sofre 3d8 de dano do tipo que você escolheu.",
    damage: { dice: "3d8", type: "varies", scaling: "+1d8 por nível acima do 1º" },
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  witch_bolt: {
    id: "witch_bolt",
    name: "Raio de Bruxa",
    level: 1,
    school: "evocation",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "um galho de uma árvore que foi atingida por um raio" },
    duration: "Concentração, até 1 minuto",
    description: "Um feixe de energia crepitante azul dispara em direção a uma criatura ao alcance, formando um arco sustentado de relâmpago entre você e o alvo. Faça um ataque à distância com magia contra aquela criatura. Se acertar, o alvo sofre 1d12 de dano elétrico, e em cada um de seus turnos pela duração, você pode usar sua ação para causar 1d12 de dano elétrico ao alvo automaticamente.",
    damage: { dice: "1d12", type: "lightning", scaling: "+1d12 inicial por nível acima do 1º" },
    classes: ["sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  color_spray: {
    id: "color_spray",
    name: "Borrifar Cores",
    level: 1,
    school: "illusion",
    castingTime: "1 ação",
    range: "Pessoal (cone de 4,5 metros)",
    components: { verbal: true, somatic: true, material: "uma pitada de pó ou areia colorida de vermelho, amarelo e azul" },
    duration: "1 rodada",
    description: "Um cone deslumbrante de luzes coloridas piscantes dispara de seus dedos. Role 6d10; o total é quantos pontos de vida de criaturas esta magia pode afetar. Criaturas em um cone de 4,5 metros originando de você são afetadas em ordem crescente de seus pontos de vida atuais. Cada criatura afetada fica cega até o final do seu próximo turno.",
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  expeditious_retreat: {
    id: "expeditious_retreat",
    name: "Recuo Acelerado",
    level: 1,
    school: "transmutation",
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 10 minutos",
    description: "Esta magia permite que você se mova em uma velocidade incrível. Quando você conjura esta magia, e então como uma ação bônus em cada um de seus turnos até a magia acabar, você pode usar a ação Disparada.",
    classes: ["sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  false_life: {
    id: "false_life",
    name: "Vida Falsa",
    level: 1,
    school: "necromancy",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true, material: "uma pequena quantidade de álcool ou bebida destilada" },
    duration: "1 hora",
    description: "Reforçando-se com um fac-símile necromântico de vida, você ganha 1d4+4 pontos de vida temporários pela duração.",
    healing: { dice: "1d4+4", scaling: "+5 PV temporários por nível acima do 1º" },
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  ray_of_sickness: {
    id: "ray_of_sickness",
    name: "Raio de Enfermidade",
    level: 1,
    school: "necromancy",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Um raio de energia verde-doentia dispara em direção a uma criatura ao alcance. Faça um ataque à distância com magia contra o alvo. Se acertar, o alvo sofre 2d8 de dano de veneno e deve fazer um teste de resistência de Constituição. Se falhar, ele também fica envenenado até o final do seu próximo turno.",
    damage: { dice: "2d8", type: "poison", scaling: "+1d8 por nível acima do 1º" },
    savingThrow: "constitution",
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  silent_image: {
    id: "silent_image",
    name: "Imagem Silenciosa",
    level: 1,
    school: "illusion",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um pouco de lã" },
    duration: "Concentração, até 10 minutos",
    description: "Você cria a imagem de um objeto, uma criatura ou algum outro fenômeno visível que não seja maior que um cubo de 4,5 metros. A imagem aparece em um ponto que você pode ver ao alcance e dura pela duração. A imagem é puramente visual; ela não é acompanhada por som, cheiro ou outros efeitos sensoriais.",
    classes: ["bard", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  tashas_hideous_laughter: {
    id: "tashas_hideous_laughter",
    name: "Riso Hediondo de Tasha",
    level: 1,
    school: "enchantment",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "pequenas tortas e uma pena que é agitada no ar" },
    duration: "Concentração, até 1 minuto",
    description: "Uma criatura de sua escolha que você pode ver ao alcance percebe tudo como hilário e cai em ataques de riso se esta magia a afetar. O alvo deve ter sucesso em um teste de resistência de Sabedoria ou cair no chão, ficando caído e incapacitado e incapaz de se levantar pela duração.",
    savingThrow: "wisdom",
    classes: ["bard", "wizard"],
    concentration: true,
    ritual: false,
  },
  unseen_servant: {
    id: "unseen_servant",
    name: "Servo Invisível",
    level: 1,
    school: "conjuration",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um pedaço de barbante e um pedaço de madeira" },
    duration: "1 hora",
    description: "Esta magia cria uma força invisível, sem mente, sem forma, que realiza tarefas simples ao seu comando até a magia acabar. O servo surge em um espaço desocupado no chão ao alcance. Ele tem CA 10, 1 ponto de vida, e uma Força de 2, e não pode atacar.",
    classes: ["bard", "warlock", "wizard"],
    concentration: false,
    ritual: true,
  },
  comprehend_languages: {
    id: "comprehend_languages",
    name: "Compreender Idiomas",
    level: 1,
    school: "divination",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true, material: "uma pitada de fuligem e sal" },
    duration: "1 hora",
    description: "Pela duração, você entende o significado literal de qualquer idioma falado que você ouvir. Você também entende qualquer idioma escrito que você vir, mas você deve estar tocando a superfície na qual as palavras estão escritas. Leva cerca de 1 minuto para ler uma página de texto.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: true,
  },
  find_familiar: {
    id: "find_familiar",
    name: "Encontrar Familiar",
    level: 1,
    school: "conjuration",
    castingTime: "1 hora",
    range: "3 metros",
    components: { verbal: true, somatic: true, material: "10 po de carvão, incenso e ervas que devem ser consumidos pelo fogo em um braseiro de latão" },
    duration: "Instantânea",
    description: "Você ganha o serviço de um familiar, um espírito que assume uma forma animal de sua escolha: morcego, gato, caranguejo, sapo, falcão, lagarto, polvo, coruja, cobra venenosa, peixe, rato, corvo, cavalo-marinho, aranha ou doninha. O familiar age independentemente de você, mas sempre obedece seus comandos.",
    classes: ["wizard"],
    concentration: false,
    ritual: true,
  },
  tensers_floating_disk: {
    id: "tensers_floating_disk",
    name: "Disco Flutuante de Tenser",
    level: 1,
    school: "conjuration",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "uma gota de mercúrio" },
    duration: "1 hora",
    description: "Esta magia cria um plano circular e horizontal de força, com 90 centímetros de diâmetro e 2,5 centímetros de espessura, que flutua 90 centímetros acima do chão em um espaço desocupado de sua escolha que você pode ver ao alcance. O disco permanece pela duração, e pode suportar até 250 kg.",
    classes: ["wizard"],
    concentration: false,
    ritual: true,
  },
  alarm: {
    id: "alarm",
    name: "Alarme",
    level: 1,
    school: "abjuration",
    castingTime: "1 minuto",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "um pequeno sino e um pedaço de fio de prata fino" },
    duration: "8 horas",
    description: "Você define um alarme contra intrusão indesejada. Escolha uma porta, uma janela ou uma área ao alcance que não seja maior que um cubo de 6 metros. Até a magia acabar, um alarme o alerta sempre que uma criatura Pequena ou maior tocar ou entrar na área protegida.",
    classes: ["ranger", "wizard"],
    concentration: false,
    ritual: true,
  },
  protection_from_evil_and_good: {
    id: "protection_from_evil_and_good",
    name: "Proteção contra o Bem e o Mal",
    level: 1,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "água benta ou pó de prata e ferro, que a magia consome" },
    duration: "Concentração, até 10 minutos",
    description: "Até a magia acabar, uma criatura voluntária que você toca é protegida contra certos tipos de criaturas: aberrações, celestiais, elementais, fadas, demônios e mortos-vivos. A proteção concede vários benefícios. Criaturas desses tipos têm desvantagem em jogadas de ataque contra o alvo. O alvo também não pode ser enfeitiçado, amedrontado ou possuído por elas.",
    classes: ["cleric", "paladin", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  purify_food_and_drink: {
    id: "purify_food_and_drink",
    name: "Purificar Comida e Bebida",
    level: 1,
    school: "transmutation",
    castingTime: "1 ação",
    range: "3 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Toda comida e bebida não mágica dentro de uma esfera de 1,5 metro de raio centrada em um ponto de sua escolha ao alcance é purificada e livrada de veneno e doença.",
    classes: ["cleric", "druid", "paladin"],
    concentration: false,
    ritual: true,
  },
  create_or_destroy_water: {
    id: "create_or_destroy_water",
    name: "Criar ou Destruir Água",
    level: 1,
    school: "transmutation",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "uma gota de água se criando água ou alguns grãos de areia se destruindo" },
    duration: "Instantânea",
    description: "Você cria até 40 litros de água limpa dentro de um recipiente aberto ao alcance. Alternativamente, a água cai como chuva em um cubo de 9 metros ao alcance, apagando chamas expostas na área. Ou você destrói até 40 litros de água em um recipiente aberto ao alcance. Ou você destrói névoa em um cubo de 9 metros ao alcance.",
    classes: ["cleric", "druid"],
    concentration: false,
    ritual: false,
  },
  detect_evil_and_good: {
    id: "detect_evil_and_good",
    name: "Detectar o Bem e o Mal",
    level: 1,
    school: "divination",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 10 minutos",
    description: "Pela duração, você sabe se há uma aberração, celestial, elemental, fada, demônio ou morto-vivo a até 9 metros de você, assim como onde a criatura está localizada. Da mesma forma, você sabe se há um lugar ou objeto a até 9 metros de você que foi magicamente consagrado ou profanado.",
    classes: ["cleric", "paladin"],
    concentration: true,
    ritual: false,
  },
  detect_poison_and_disease: {
    id: "detect_poison_and_disease",
    name: "Detectar Veneno e Doença",
    level: 1,
    school: "divination",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true, material: "uma folha de teixo" },
    duration: "Concentração, até 10 minutos",
    description: "Pela duração, você pode sentir a presença e localização de venenos, criaturas venenosas e doenças a até 9 metros de você. Você também identifica o tipo de veneno, criatura venenosa ou doença em cada caso.",
    classes: ["cleric", "druid", "paladin", "ranger"],
    concentration: true,
    ritual: true,
  },

  // ========== 2nd LEVEL SPELLS ==========
  scorching_ray: {
    id: "scorching_ray",
    name: "Raio Ardente",
    level: 2,
    school: "evocation",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Você cria três raios de fogo e os arremessa em alvos ao alcance. Você pode arremessá-los em um alvo ou em vários. Faça um ataque à distância com magia para cada raio. Se acertar, o alvo sofre 2d6 de dano de fogo.",
    damage: { dice: "6d6", type: "fire", scaling: "+1 raio por nível acima do 2º" },
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  hold_person: {
    id: "hold_person",
    name: "Imobilizar Pessoa",
    level: 2,
    school: "enchantment",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um pequeno pedaço de ferro reto" },
    duration: "Concentração, até 1 minuto",
    description: "Escolha um humanoide que você pode ver ao alcance. O alvo deve ter sucesso em um teste de resistência de Sabedoria ou ficar paralisado pela duração. No final de cada um de seus turnos, o alvo pode fazer outro teste de resistência de Sabedoria. Se passar, a magia termina no alvo.",
    savingThrow: "wisdom",
    classes: ["bard", "cleric", "druid", "sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  misty_step: {
    id: "misty_step",
    name: "Passo Nebuloso",
    level: 2,
    school: "conjuration",
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: { verbal: true, somatic: false },
    duration: "Instantânea",
    description: "Brevemente cercado por névoa prateada, você se teleporta até 9 metros para um espaço desocupado que você pode ver.",
    classes: ["sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  spiritual_weapon: {
    id: "spiritual_weapon",
    name: "Arma Espiritual",
    level: 2,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "18 metros",
    components: { verbal: true, somatic: true },
    duration: "1 minuto",
    description: "Você cria uma arma espectral flutuante ao alcance que dura pela duração ou até você conjurar esta magia novamente. Quando você conjura a magia, pode fazer um ataque corpo a corpo com magia contra uma criatura a até 1,5 metro da arma. Se acertar, o alvo sofre dano de força igual a 1d8 + seu modificador de habilidade de conjuração.",
    damage: { dice: "1d8", type: "force", scaling: "+1d8 a cada 2 níveis acima do 2º" },
    classes: ["cleric"],
    concentration: false,
    ritual: false,
  },
  lesser_restoration: {
    id: "lesser_restoration",
    name: "Restauração Menor",
    level: 2,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Você toca uma criatura e pode encerrar uma doença ou uma condição que a aflige. A condição pode ser cego, surdo, paralisado ou envenenado.",
    classes: ["bard", "cleric", "druid", "paladin", "ranger"],
    concentration: false,
    ritual: false,
  },
  prayer_of_healing: {
    id: "prayer_of_healing",
    name: "Prece de Cura",
    level: 2,
    school: "evocation",
    castingTime: "10 minutos",
    range: "9 metros",
    components: { verbal: true, somatic: false },
    duration: "Instantânea",
    description: "Até seis criaturas de sua escolha que você pode ver ao alcance recuperam pontos de vida iguais a 2d8 + seu modificador de habilidade de conjuração. Esta magia não tem efeito em mortos-vivos ou constructos.",
    healing: { dice: "2d8", scaling: "+1d8 por nível acima do 2º" },
    classes: ["cleric", "paladin"],
    concentration: false,
    ritual: false,
  },
  invisibility: {
    id: "invisibility",
    name: "Invisibilidade",
    level: 2,
    school: "illusion",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "um cílio envolto em goma arábica" },
    duration: "Concentração, até 1 hora",
    description: "Uma criatura que você toca se torna invisível até a magia acabar. Qualquer coisa que o alvo esteja vestindo ou carregando é invisível enquanto estiver na posse do alvo. A magia termina para um alvo que ataca ou conjura uma magia.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  shatter: {
    id: "shatter",
    name: "Despedaçar",
    level: 2,
    school: "evocation",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um fragmento de mica" },
    duration: "Instantânea",
    description: "Um barulho dolorosamente intenso repentino irrompe de um ponto de sua escolha ao alcance. Cada criatura em uma esfera de 3 metros de raio centrada naquele ponto deve fazer um teste de resistência de Constituição. Uma criatura sofre 3d8 de dano de trovão se falhar, ou metade se passar. Uma criatura feita de material inorgânico como pedra, cristal ou metal tem desvantagem neste teste de resistência.",
    damage: { dice: "3d8", type: "thunder", scaling: "+1d8 por nível acima do 2º" },
    savingThrow: "constitution",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  web: {
    id: "web",
    name: "Teia",
    level: 2,
    school: "conjuration",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um pouco de teia de aranha" },
    duration: "Concentração, até 1 hora",
    description: "Você conjura uma massa de teias de aranha grossas e pegajosas em um ponto de sua escolha ao alcance. As teias preenchem um cubo de 6 metros daquele ponto pela duração. As teias são terreno difícil e levemente obscurecem sua área. Se as teias não estiverem ancoradas entre duas massas sólidas ou em camadas pelo chão, parede ou teto, a teia conjurada colapsa sobre si mesma, e a magia termina no início do seu próximo turno.",
    savingThrow: "dexterity",
    classes: ["sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  mirror_image: {
    id: "mirror_image",
    name: "Imagem Espelhada",
    level: 2,
    school: "illusion",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "1 minuto",
    description: "Três duplicatas ilusórias de você mesmo aparecem em seu espaço. Até a magia acabar, as duplicatas se movem com você e imitam suas ações, mudando de posição de modo que é impossível rastrear qual imagem é real. Cada vez que uma criatura mirar você com um ataque durante a duração da magia, role um d20 para determinar se o ataque mira uma de suas duplicatas em vez de você.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  blur: {
    id: "blur",
    name: "Borrar",
    level: 2,
    school: "illusion",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "Seu corpo se torna borrado, mudando e ondulando para todos que podem vê-lo. Pela duração, qualquer criatura tem desvantagem em jogadas de ataque contra você. Um atacante é imune a este efeito se não depender de visão, como com visão às cegas, ou pode ver através de ilusões, como com visão verdadeira.",
    classes: ["sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  darkness: {
    id: "darkness",
    name: "Escuridão",
    level: 2,
    school: "evocation",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: false, material: "pelo de morcego e uma gota de piche ou pedaço de carvão" },
    duration: "Concentração, até 10 minutos",
    description: "Escuridão mágica se espalha de um ponto que você escolher ao alcance para preencher uma esfera de 4,5 metros de raio pela duração. A escuridão se espalha ao redor de cantos. Uma criatura com visão no escuro não pode ver através desta escuridão, e luz não mágica não pode iluminá-la.",
    classes: ["sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  acid_arrow: {
    id: "acid_arrow",
    name: "Flecha Ácida de Melf",
    level: 2,
    school: "evocation",
    castingTime: "1 ação",
    range: "27 metros",
    components: { verbal: true, somatic: true, material: "pó de folha de ruibarbo e estômago de víbora" },
    duration: "Instantânea",
    description: "Uma flecha verde cintilante dispara em direção a um alvo ao alcance e explode em um borrifo de ácido. Faça um ataque à distância com magia contra o alvo. Se acertar, o alvo sofre 4d4 de dano de ácido imediatamente e 2d4 de dano de ácido no final do seu próximo turno. Se errar, a flecha espirra o alvo com ácido por metade do dano inicial e nenhum dano no final do seu próximo turno.",
    damage: { dice: "4d4+2d4", type: "acid", scaling: "+1d4 por nível acima do 2º" },
    classes: ["wizard"],
    concentration: false,
    ritual: false,
  },
  flaming_sphere: {
    id: "flaming_sphere",
    name: "Esfera Flamejante",
    level: 2,
    school: "conjuration",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um pouco de sebo, uma pitada de enxofre e uma pitada de pó de ferro" },
    duration: "Concentração, até 1 minuto",
    description: "Uma esfera de fogo de 1,5 metro de diâmetro aparece em um espaço desocupado de sua escolha ao alcance e dura pela duração. Qualquer criatura que termine seu turno a até 1,5 metro da esfera deve fazer um teste de resistência de Destreza. A criatura sofre 2d6 de dano de fogo se falhar, ou metade se passar.",
    damage: { dice: "2d6", type: "fire", scaling: "+1d6 por nível acima do 2º" },
    savingThrow: "dexterity",
    classes: ["druid", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  moonbeam: {
    id: "moonbeam",
    name: "Raio Lunar",
    level: 2,
    school: "evocation",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true, material: "várias sementes de qualquer planta lunar e um pedaço de feldspato opalescente" },
    duration: "Concentração, até 1 minuto",
    description: "Um feixe prateado de luz pálida brilha em um cilindro de 1,5 metro de raio e 12 metros de altura centrado em um ponto ao alcance. Até a magia acabar, luz penumbra preenche o cilindro. Quando uma criatura entra na área da magia pela primeira vez em um turno ou começa seu turno lá, ela é envolvida em chamas fantasmagóricas que causam dor excruciante, e deve fazer um teste de resistência de Constituição. Ela sofre 2d10 de dano radiante se falhar, ou metade se passar.",
    damage: { dice: "2d10", type: "radiant", scaling: "+1d10 por nível acima do 2º" },
    savingThrow: "constitution",
    classes: ["druid"],
    concentration: true,
    ritual: false,
  },
  spike_growth: {
    id: "spike_growth",
    name: "Crescer Espinhos",
    level: 2,
    school: "transmutation",
    castingTime: "1 ação",
    range: "45 metros",
    components: { verbal: true, somatic: true, material: "sete espinhos afiados ou sete galhos afiados" },
    duration: "Concentração, até 10 minutos",
    description: "O chão em um raio de 6 metros centrado em um ponto ao alcance se torce e brota espinhos e espinhos duros. A área se torna terreno difícil pela duração. Quando uma criatura se move para dentro ou através da área, ela sofre 2d4 de dano perfurante para cada 1,5 metro que ela viaja.",
    damage: { dice: "2d4", type: "piercing" },
    classes: ["druid", "ranger"],
    concentration: true,
    ritual: false,
  },
  pass_without_trace: {
    id: "pass_without_trace",
    name: "Passos sem Pegadas",
    level: 2,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true, material: "cinzas de uma folha de visco queimada e um raminho de abeto" },
    duration: "Concentração, até 1 hora",
    description: "Um véu de sombras e silêncio irradia de você, mascarando você e seus companheiros de detecção. Pela duração, cada criatura que você escolher a até 9 metros de você (incluindo você) tem um bônus de +10 em testes de Destreza (Furtividade) e não pode ser rastreada exceto por meios mágicos. Uma criatura que recebe este bônus não deixa pegadas ou outros rastros de sua passagem.",
    classes: ["druid", "ranger"],
    concentration: true,
    ritual: false,
  },
  aid: {
    id: "aid",
    name: "Ajuda",
    level: 2,
    school: "abjuration",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "uma pequena tira de pano branco" },
    duration: "8 horas",
    description: "Sua magia reforça seus aliados com tenacidade e determinação. Escolha até três criaturas ao alcance. O máximo de pontos de vida e os pontos de vida atuais de cada alvo aumentam em 5 pela duração.",
    healing: { dice: "5", scaling: "+5 por nível acima do 2º" },
    classes: ["bard", "cleric", "paladin", "ranger"],
    concentration: false,
    ritual: false,
  },
  augury: {
    id: "augury",
    name: "Augúrio",
    level: 2,
    school: "divination",
    castingTime: "1 minuto",
    range: "Pessoal",
    components: { verbal: true, somatic: true, material: "ossos ou palitos marcados especialmente no valor de pelo menos 25 po" },
    duration: "Instantânea",
    description: "Ao lançar ossos com gemas incrustadas ou palitos de marfim, rolar cartas de dragão ou empregar algum outro dispositivo de adivinhação, você recebe um presságio de uma entidade de outro mundo sobre os resultados de um curso de ação específico que você planeja tomar nos próximos 30 minutos.",
    classes: ["cleric", "druid", "wizard"],
    concentration: false,
    ritual: true,
  },
  calm_emotions: {
    id: "calm_emotions",
    name: "Acalmar Emoções",
    level: 2,
    school: "enchantment",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 minuto",
    description: "Você tenta suprimir emoções fortes em um grupo de pessoas. Cada humanoide em uma esfera de 6 metros de raio centrada em um ponto que você escolher ao alcance deve fazer um teste de resistência de Carisma; uma criatura pode escolher falhar neste teste de resistência se desejar. Se uma criatura falhar em seu teste de resistência, escolha um dos dois efeitos seguintes.",
    savingThrow: "charisma",
    classes: ["bard", "cleric"],
    concentration: true,
    ritual: false,
  },
  enhance_ability: {
    id: "enhance_ability",
    name: "Aprimorar Habilidade",
    level: 2,
    school: "transmutation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "pelo ou pena de uma besta" },
    duration: "Concentração, até 1 hora",
    description: "Você toca uma criatura e concede a ela um aprimoramento mágico. Escolha um dos seguintes efeitos; o alvo ganha esse efeito até a magia acabar: Resistência de Urso (vantagem em testes de Constituição, 2d6 PV temporários), Graça de Gato (vantagem em testes de Destreza, sem dano de queda de até 6 metros), etc.",
    classes: ["bard", "cleric", "druid", "ranger", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  find_steed: {
    id: "find_steed",
    name: "Encontrar Montaria",
    level: 2,
    school: "conjuration",
    castingTime: "10 minutos",
    range: "9 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Você invoca um espírito que assume a forma de uma montaria incomumente inteligente, forte e leal, criando um vínculo duradouro com ela. Aparecendo em um espaço desocupado ao alcance, a montaria assume uma forma que você escolher: um cavalo de guerra, um pônei, um camelo, um alce ou um mastim.",
    classes: ["paladin"],
    concentration: false,
    ritual: false,
  },
  zone_of_truth: {
    id: "zone_of_truth",
    name: "Zona da Verdade",
    level: 2,
    school: "enchantment",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true },
    duration: "10 minutos",
    description: "Você cria uma zona mágica que protege contra engano em uma esfera de 4,5 metros de raio centrada em um ponto de sua escolha ao alcance. Até a magia acabar, uma criatura que entrar na área da magia pela primeira vez em um turno ou começar seu turno lá deve fazer um teste de resistência de Carisma. Se uma criatura falhar, ela não pode falar uma mentira deliberada enquanto estiver no raio.",
    savingThrow: "charisma",
    classes: ["bard", "cleric", "paladin"],
    concentration: false,
    ritual: false,
  },
  branding_smite: {
    id: "branding_smite",
    name: "Punição Marcante",
    level: 2,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "A próxima vez que você acertar uma criatura com um ataque com arma antes desta magia acabar, a arma brilha com radiância astral enquanto você ataca. O ataque causa 2d6 de dano radiante extra ao alvo, que se torna visível se for invisível, e o alvo emite luz penumbra em um raio de 1,5 metro e não pode se tornar invisível até a magia acabar.",
    damage: { dice: "2d6", type: "radiant", scaling: "+1d6 por nível acima do 2º" },
    classes: ["paladin"],
    concentration: true,
    ritual: false,
  },
  magic_weapon: {
    id: "magic_weapon",
    name: "Arma Mágica",
    level: 2,
    school: "transmutation",
    castingTime: "1 ação bônus",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 hora",
    description: "Você toca uma arma não mágica. Até a magia acabar, aquela arma se torna uma arma mágica com um bônus de +1 nas jogadas de ataque e jogadas de dano. Em níveis mais altos: +2 no 4º nível, +3 no 6º nível.",
    classes: ["paladin", "ranger", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  warding_bond: {
    id: "warding_bond",
    name: "Vínculo Protetor",
    level: 2,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "um par de anéis de platina no valor de pelo menos 50 po cada, que você e o alvo devem usar pela duração" },
    duration: "1 hora",
    description: "Esta magia protege uma criatura voluntária que você toca e cria uma conexão mística entre você e o alvo até a magia acabar. Enquanto o alvo estiver a até 18 metros de você, ele ganha um bônus de +1 na CA e nos testes de resistência, e tem resistência a todo dano. Além disso, cada vez que ele sofrer dano, você sofre a mesma quantidade de dano.",
    classes: ["cleric", "paladin"],
    concentration: false,
    ritual: false,
  },
  silence: {
    id: "silence",
    name: "Silêncio",
    level: 2,
    school: "illusion",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 10 minutos",
    description: "Pela duração, nenhum som pode ser criado dentro ou passar através de uma esfera de 6 metros de raio centrada em um ponto que você escolher ao alcance. Qualquer criatura ou objeto inteiramente dentro da esfera é imune a dano de trovão, e criaturas são surdas enquanto inteiramente dentro dela. Conjurar uma magia que inclua um componente verbal é impossível lá.",
    classes: ["bard", "cleric", "ranger"],
    concentration: true,
    ritual: true,
  },
  suggestion: {
    id: "suggestion",
    name: "Sugestão",
    level: 2,
    school: "enchantment",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: false, material: "uma língua de cobra e um favo de mel ou uma gota de óleo doce" },
    duration: "Concentração, até 8 horas",
    description: "Você sugere um curso de atividade (limitado a uma ou duas frases) e influencia magicamente uma criatura que você pode ver ao alcance que pode ouvi-lo e entendê-lo. Criaturas que não podem ser enfeitiçadas são imunes a este efeito. A sugestão deve ser formulada de forma a fazer o curso de ação parecer razoável.",
    savingThrow: "wisdom",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  knock: {
    id: "knock",
    name: "Arrombar",
    level: 2,
    school: "transmutation",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: false },
    duration: "Instantânea",
    description: "Escolha um objeto que você pode ver ao alcance. O objeto pode ser uma porta, uma caixa, um baú, um conjunto de algemas, um cadeado ou outro objeto que contenha um meio mundano ou mágico que impeça o acesso. Um alvo que está preso por uma fechadura mundana ou que está travado ou barrado se torna destrancado, destravado ou desbarrado. Se o objeto tiver múltiplas fechaduras, apenas uma delas é destrancada.",
    classes: ["bard", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  levitate: {
    id: "levitate",
    name: "Levitar",
    level: 2,
    school: "transmutation",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "ou uma pequena alça de couro ou um pedaço de fio de ouro dobrado em forma de copo com uma haste longa em uma extremidade" },
    duration: "Concentração, até 10 minutos",
    description: "Uma criatura ou objeto de sua escolha que você pode ver ao alcance sobe verticalmente, até 6 metros, e permanece suspenso lá pela duração. A magia pode levitar um alvo que pese até 250 kg. Uma criatura involuntária que tenha sucesso em um teste de resistência de Constituição não é afetada.",
    savingThrow: "constitution",
    classes: ["sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  see_invisibility: {
    id: "see_invisibility",
    name: "Ver o Invisível",
    level: 2,
    school: "divination",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true, material: "uma pitada de talco e uma pequena borrifada de pó de prata" },
    duration: "1 hora",
    description: "Pela duração, você vê criaturas e objetos invisíveis como se fossem visíveis, e você pode ver no Plano Etéreo. Criaturas e objetos etéreos aparecem fantasmagóricos e translúcidos.",
    classes: ["bard", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  spider_climb: {
    id: "spider_climb",
    name: "Escalar como Aranha",
    level: 2,
    school: "transmutation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "uma gota de betume e uma aranha" },
    duration: "Concentração, até 1 hora",
    description: "Até a magia acabar, uma criatura voluntária que você toca ganha a habilidade de se mover para cima, para baixo e através de superfícies verticais e de cabeça para baixo ao longo de tetos, enquanto deixa suas mãos livres. O alvo também ganha uma velocidade de escalada igual à sua velocidade de caminhada.",
    classes: ["sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  darkvision: {
    id: "darkvision",
    name: "Visão no Escuro",
    level: 2,
    school: "transmutation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "ou uma cenoura seca ou um olho de ágata" },
    duration: "8 horas",
    description: "Você toca uma criatura voluntária para conceder a ela a habilidade de ver no escuro. Pela duração, aquela criatura tem visão no escuro até um alcance de 18 metros.",
    classes: ["druid", "ranger", "sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  gust_of_wind: {
    id: "gust_of_wind",
    name: "Rajada de Vento",
    level: 2,
    school: "evocation",
    castingTime: "1 ação",
    range: "Pessoal (linha de 18 metros)",
    components: { verbal: true, somatic: true, material: "uma semente de legume" },
    duration: "Concentração, até 1 minuto",
    description: "Uma linha de vento forte de 18 metros de comprimento e 3 metros de largura sopra de você em uma direção que você escolher pela duração da magia. Cada criatura que começar seu turno na linha deve ter sucesso em um teste de resistência de Força ou ser empurrada 4,5 metros para longe de você em uma direção seguindo a linha.",
    savingThrow: "strength",
    classes: ["druid", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  heat_metal: {
    id: "heat_metal",
    name: "Aquecer Metal",
    level: 2,
    school: "transmutation",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um pedaço de ferro e uma chama" },
    duration: "Concentração, até 1 minuto",
    description: "Escolha um objeto de metal manufaturado, como uma arma de metal ou um conjunto de armadura de metal pesada ou média, que você pode ver ao alcance. Você faz o objeto brilhar vermelho-quente. Qualquer criatura em contato físico com o objeto sofre 2d8 de dano de fogo quando você conjura a magia. Até a magia acabar, você pode usar uma ação bônus em cada um de seus turnos subsequentes para causar este dano novamente.",
    damage: { dice: "2d8", type: "fire", scaling: "+1d8 por nível acima do 2º" },
    classes: ["bard", "druid"],
    concentration: true,
    ritual: false,
  },
  hold_person_2: {
    id: "hold_person_2",
    name: "Imobilizar Pessoa",
    level: 2,
    school: "enchantment",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true, material: "um pequeno pedaço de ferro reto" },
    duration: "Concentração, até 1 minuto",
    description: "Escolha um humanoide que você pode ver ao alcance. O alvo deve ter sucesso em um teste de resistência de Sabedoria ou ficar paralisado pela duração. No final de cada um de seus turnos, o alvo pode fazer outro teste de resistência de Sabedoria. Se passar, a magia termina no alvo.",
    savingThrow: "wisdom",
    classes: ["bard", "cleric", "druid", "sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },

  // ========== 3rd LEVEL SPELLS ==========
  fireball: {
    id: "fireball",
    name: "Bola de Fogo",
    level: 3,
    school: "evocation",
    castingTime: "1 ação",
    range: "45 metros",
    components: { verbal: true, somatic: true, material: "uma pequena bola de guano de morcego e enxofre" },
    duration: "Instantânea",
    description: "Um ponto brilhante lampeja do seu dedo apontado para um ponto que você escolher ao alcance e então floresce com um rugido baixo em uma explosão de chamas. Cada criatura em uma esfera de 6 metros de raio centrada naquele ponto deve fazer um teste de resistência de Destreza. Um alvo sofre 8d6 de dano de fogo se falhar, ou metade se passar.",
    damage: { dice: "8d6", type: "fire", scaling: "+1d6 por nível acima do 3º" },
    savingThrow: "dexterity",
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  lightning_bolt: {
    id: "lightning_bolt",
    name: "Relâmpago",
    level: 3,
    school: "evocation",
    castingTime: "1 ação",
    range: "Pessoal (linha de 30 metros)",
    components: { verbal: true, somatic: true, material: "um pouco de pelo e uma haste de âmbar, cristal ou vidro" },
    duration: "Instantânea",
    description: "Um raio de relâmpago forma uma linha de 30 metros de comprimento e 1,5 metro de largura que sai de você em uma direção que você escolher. Cada criatura na linha deve fazer um teste de resistência de Destreza. Uma criatura sofre 8d6 de dano elétrico se falhar, ou metade se passar.",
    damage: { dice: "8d6", type: "lightning", scaling: "+1d6 por nível acima do 3º" },
    savingThrow: "dexterity",
    classes: ["sorcerer", "wizard"],
    concentration: false,
    ritual: false,
  },
  counterspell: {
    id: "counterspell",
    name: "Contramágica",
    level: 3,
    school: "abjuration",
    castingTime: "1 reação",
    range: "18 metros",
    components: { verbal: false, somatic: true },
    duration: "Instantânea",
    description: "Você tenta interromper uma criatura no processo de conjurar uma magia. Se a criatura estiver conjurando uma magia de 3º nível ou inferior, sua magia falha e não tem efeito. Se ela estiver conjurando uma magia de 4º nível ou superior, faça um teste de habilidade usando sua habilidade de conjuração. A CD é igual a 10 + o nível da magia. Se passar, a magia da criatura falha.",
    classes: ["sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  dispel_magic: {
    id: "dispel_magic",
    name: "Dissipar Magia",
    level: 3,
    school: "abjuration",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Escolha uma criatura, objeto ou efeito mágico ao alcance. Qualquer magia de 3º nível ou inferior no alvo termina. Para cada magia de 4º nível ou superior no alvo, faça um teste de habilidade usando sua habilidade de conjuração. A CD é igual a 10 + o nível da magia. Se passar, a magia termina.",
    classes: ["bard", "cleric", "druid", "paladin", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  haste: {
    id: "haste",
    name: "Velocidade",
    level: 3,
    school: "transmutation",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "um fragmento de raiz de alcaçuz" },
    duration: "Concentração, até 1 minuto",
    description: "Escolha uma criatura voluntária que você pode ver ao alcance. Até a magia acabar, o deslocamento do alvo é dobrado, ele ganha um bônus de +2 na CA, tem vantagem em testes de resistência de Destreza, e ganha uma ação adicional em cada um de seus turnos. Quando a magia termina, o alvo não pode se mover ou usar ações até depois do seu próximo turno.",
    classes: ["sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  slow: {
    id: "slow",
    name: "Lentidão",
    level: 3,
    school: "transmutation",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true, material: "uma gota de melaço" },
    duration: "Concentração, até 1 minuto",
    description: "Você altera o tempo ao redor de até seis criaturas de sua escolha em um cubo de 12 metros ao alcance. Cada alvo deve ter sucesso em um teste de resistência de Sabedoria ou ser afetado por esta magia pela duração. O deslocamento de um alvo afetado é reduzido pela metade, ele sofre -2 na CA e nos testes de resistência de Destreza, e não pode usar reações.",
    savingThrow: "wisdom",
    classes: ["sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  fly: {
    id: "fly",
    name: "Voar",
    level: 3,
    school: "transmutation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "uma pena de asa de qualquer pássaro" },
    duration: "Concentração, até 10 minutos",
    description: "Você toca uma criatura voluntária. O alvo ganha uma velocidade de voo de 18 metros pela duração. Quando a magia termina, o alvo cai se ainda estiver no ar, a menos que possa parar a queda.",
    classes: ["sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  revivify: {
    id: "revivify",
    name: "Revivificar",
    level: 3,
    school: "necromancy",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true, material: "diamantes no valor de 300 po, que a magia consome" },
    duration: "Instantânea",
    description: "Você toca uma criatura que morreu no último minuto. Aquela criatura retorna à vida com 1 ponto de vida. Esta magia não pode retornar à vida uma criatura que morreu de velhice, nem pode restaurar quaisquer partes do corpo perdidas.",
    classes: ["cleric", "druid", "paladin", "ranger"],
    concentration: false,
    ritual: false,
  },
  spirit_guardians: {
    id: "spirit_guardians",
    name: "Guardiões Espirituais",
    level: 3,
    school: "conjuration",
    castingTime: "1 ação",
    range: "Pessoal (raio de 4,5 metros)",
    components: { verbal: true, somatic: true, material: "um símbolo sagrado" },
    duration: "Concentração, até 10 minutos",
    description: "Você invoca espíritos para protegê-lo. Eles voam ao redor de você até um raio de 4,5 metros pela duração. Quando uma criatura hostil entra na área pela primeira vez em um turno ou começa seu turno lá, ela deve fazer um teste de resistência de Sabedoria. Se falhar, ela sofre 3d8 de dano radiante (se você for bom ou neutro) ou 3d8 de dano necrótico (se você for mau). Se passar, sofre metade do dano.",
    damage: { dice: "3d8", type: "radiant", scaling: "+1d8 por nível acima do 3º" },
    savingThrow: "wisdom",
    classes: ["cleric"],
    concentration: true,
    ritual: false,
  },
  mass_healing_word: {
    id: "mass_healing_word",
    name: "Palavra Curativa em Massa",
    level: 3,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "18 metros",
    components: { verbal: true, somatic: false },
    duration: "Instantânea",
    description: "Enquanto você profere palavras de restauração, até seis criaturas de sua escolha que você pode ver ao alcance recuperam pontos de vida iguais a 1d4 + seu modificador de habilidade de conjuração. Esta magia não tem efeito em mortos-vivos ou constructos.",
    healing: { dice: "1d4", scaling: "+1d4 por nível acima do 3º" },
    classes: ["bard", "cleric"],
    concentration: false,
    ritual: false,
  },
  call_lightning: {
    id: "call_lightning",
    name: "Invocar Relâmpago",
    level: 3,
    school: "conjuration",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 10 minutos",
    description: "Uma nuvem de tempestade aparece na forma de um cilindro de 3 metros de altura com um raio de 18 metros, centrado em um ponto que você pode ver a 30 metros diretamente acima de você. Quando você conjura a magia, escolha um ponto que você pode ver sob a nuvem. Um raio de relâmpago dispara da nuvem para aquele ponto. Cada criatura a até 1,5 metro daquele ponto deve fazer um teste de resistência de Destreza. Uma criatura sofre 3d10 de dano elétrico se falhar, ou metade se passar.",
    damage: { dice: "3d10", type: "lightning", scaling: "+1d10 por nível acima do 3º" },
    savingThrow: "dexterity",
    classes: ["druid"],
    concentration: true,
    ritual: false,
  },
  conjure_animals: {
    id: "conjure_animals",
    name: "Conjurar Animais",
    level: 3,
    school: "conjuration",
    castingTime: "1 ação",
    range: "18 metros",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 hora",
    description: "Você invoca espíritos feéricos que assumem a forma de bestas e aparecem em espaços desocupados que você pode ver ao alcance. Escolha uma das seguintes opções: uma besta de nível de desafio 2 ou inferior, duas bestas de nível de desafio 1 ou inferior, quatro bestas de nível de desafio 1/2 ou inferior, ou oito bestas de nível de desafio 1/4 ou inferior.",
    classes: ["druid", "ranger"],
    concentration: true,
    ritual: false,
  },
  plant_growth: {
    id: "plant_growth",
    name: "Crescimento Vegetal",
    level: 3,
    school: "transmutation",
    castingTime: "1 ação ou 8 horas",
    range: "45 metros",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Esta magia canaliza vitalidade para plantas dentro de uma área específica. Há dois usos possíveis para a magia, concedendo benefícios imediatos ou de longo prazo. Se você conjurar esta magia usando 1 ação, escolha um ponto ao alcance. Todas as plantas normais em um raio de 30 metros centrado naquele ponto se tornam grossas e crescidas demais. Uma criatura se movendo através da área deve gastar 4 pés de movimento para cada 1 pé que ela se move.",
    classes: ["bard", "druid", "ranger"],
    concentration: false,
    ritual: false,
  },
  hypnotic_pattern: {
    id: "hypnotic_pattern",
    name: "Padrão Hipnótico",
    level: 3,
    school: "illusion",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: false, somatic: true, material: "um bastão de incenso aceso ou um frasco de cristal cheio de material fosforescente" },
    duration: "Concentração, até 1 minuto",
    description: "Você cria um padrão retorcido de cores que tece pelo ar dentro de um cubo de 9 metros ao alcance. O padrão aparece por um momento e desaparece. Cada criatura na área que vê o padrão deve fazer um teste de resistência de Sabedoria. Se falhar, a criatura fica enfeitiçada pela duração. Enquanto enfeitiçada por esta magia, a criatura está incapacitada e tem uma velocidade de 0.",
    savingThrow: "wisdom",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  major_image: {
    id: "major_image",
    name: "Imagem Maior",
    level: 3,
    school: "illusion",
    castingTime: "1 ação",
    range: "36 metros",
    components: { verbal: true, somatic: true, material: "um pouco de lã" },
    duration: "Concentração, até 10 minutos",
    description: "Você cria a imagem de um objeto, uma criatura ou algum outro fenômeno visível que não seja maior que um cubo de 6 metros. A imagem aparece em um ponto que você pode ver ao alcance e dura pela duração. Ela parece completamente real, incluindo sons, cheiros e temperatura apropriados à coisa representada.",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  fear: {
    id: "fear",
    name: "Medo",
    level: 3,
    school: "illusion",
    castingTime: "1 ação",
    range: "Pessoal (cone de 9 metros)",
    components: { verbal: true, somatic: true, material: "uma pena branca ou o coração de uma galinha" },
    duration: "Concentração, até 1 minuto",
    description: "Você projeta uma imagem fantasmagórica dos piores medos de uma criatura. Cada criatura em um cone de 9 metros deve ter sucesso em um teste de resistência de Sabedoria ou largar o que estiver segurando e ficar amedrontada pela duração. Enquanto amedrontada por esta magia, uma criatura deve usar a ação Disparada e se afastar de você pelo caminho mais seguro disponível em cada um de seus turnos.",
    savingThrow: "wisdom",
    classes: ["bard", "sorcerer", "warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  remove_curse: {
    id: "remove_curse",
    name: "Remover Maldição",
    level: 3,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Instantânea",
    description: "Ao seu toque, todas as maldições afetando uma criatura ou objeto terminam. Se o objeto for um item mágico amaldiçoado, sua maldição permanece, mas a magia quebra a sintonização do proprietário com o objeto para que ele possa ser removido ou descartado.",
    classes: ["cleric", "paladin", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  protection_from_energy: {
    id: "protection_from_energy",
    name: "Proteção contra Energia",
    level: 3,
    school: "abjuration",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 hora",
    description: "Pela duração, a criatura voluntária que você toca tem resistência a um tipo de dano de sua escolha: ácido, frio, fogo, relâmpago ou trovão.",
    classes: ["cleric", "druid", "ranger", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  tongues: {
    id: "tongues",
    name: "Idiomas",
    level: 3,
    school: "divination",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: false, material: "um pequeno modelo de argila de um zigurate" },
    duration: "1 hora",
    description: "Esta magia concede à criatura que você toca a habilidade de entender qualquer idioma falado que ela ouvir. Além disso, quando o alvo fala, qualquer criatura que conheça pelo menos um idioma e possa ouvi-lo entende o que ele diz.",
    classes: ["bard", "cleric", "sorcerer", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  vampiric_touch: {
    id: "vampiric_touch",
    name: "Toque Vampírico",
    level: 3,
    school: "necromancy",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 minuto",
    description: "O toque de sua mão envolta em sombras pode sugar a força vital de outros para curar suas feridas. Faça um ataque corpo a corpo com magia contra uma criatura ao seu alcance. Se acertar, o alvo sofre 3d6 de dano necrótico, e você recupera pontos de vida iguais à metade da quantidade de dano necrótico causado.",
    damage: { dice: "3d6", type: "necrotic", scaling: "+1d6 por nível acima do 3º" },
    classes: ["warlock", "wizard"],
    concentration: true,
    ritual: false,
  },
  animate_dead: {
    id: "animate_dead",
    name: "Animar Mortos",
    level: 3,
    school: "necromancy",
    castingTime: "1 minuto",
    range: "3 metros",
    components: { verbal: true, somatic: true, material: "uma gota de sangue, um pedaço de carne e uma pitada de pó de osso" },
    duration: "Instantânea",
    description: "Esta magia cria um servo morto-vivo. Escolha uma pilha de ossos ou um cadáver de um humanoide Médio ou Pequeno ao alcance. Sua magia imbui o alvo com um fac-símile vil de vida, erguendo-o como uma criatura morta-viva. O alvo se torna um esqueleto se você escolheu ossos ou um zumbi se você escolheu um cadáver.",
    classes: ["cleric", "wizard"],
    concentration: false,
    ritual: false,
  },
  bestow_curse: {
    id: "bestow_curse",
    name: "Rogar Maldição",
    level: 3,
    school: "necromancy",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 minuto",
    description: "Você toca uma criatura, e aquela criatura deve ter sucesso em um teste de resistência de Sabedoria ou se tornar amaldiçoada pela duração da magia. Quando você conjura esta magia, escolha a natureza da maldição de uma das opções disponíveis.",
    savingThrow: "wisdom",
    classes: ["bard", "cleric", "wizard"],
    concentration: true,
    ritual: false,
  },
  magic_circle: {
    id: "magic_circle",
    name: "Círculo Mágico",
    level: 3,
    school: "abjuration",
    castingTime: "1 minuto",
    range: "3 metros",
    components: { verbal: true, somatic: true, material: "água benta ou pó de prata e ferro no valor de pelo menos 100 po, que a magia consome" },
    duration: "1 hora",
    description: "Você cria um cilindro de energia mágica de 3 metros de raio e 6 metros de altura, centrado em um ponto no chão que você pode ver ao alcance. Runas brilhantes aparecem onde quer que o cilindro cruze com o chão ou outra superfície. Escolha um ou mais dos seguintes tipos de criaturas: celestiais, elementais, fadas, demônios ou mortos-vivos.",
    classes: ["cleric", "paladin", "warlock", "wizard"],
    concentration: false,
    ritual: false,
  },
  sending: {
    id: "sending",
    name: "Mensagem",
    level: 3,
    school: "evocation",
    castingTime: "1 ação",
    range: "Ilimitado",
    components: { verbal: true, somatic: true, material: "um pequeno pedaço de fio de cobre fino" },
    duration: "1 rodada",
    description: "Você envia uma mensagem curta de vinte e cinco palavras ou menos para uma criatura com a qual você está familiarizado. A criatura ouve a mensagem em sua mente, reconhece você como o remetente se ela o conhece, e pode responder de maneira semelhante imediatamente.",
    classes: ["bard", "cleric", "wizard"],
    concentration: false,
    ritual: false,
  },
  water_breathing: {
    id: "water_breathing",
    name: "Respirar na Água",
    level: 3,
    school: "transmutation",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "um pequeno junco ou pedaço de palha" },
    duration: "24 horas",
    description: "Esta magia concede a até dez criaturas voluntárias que você pode ver ao alcance a habilidade de respirar debaixo d'água até a magia acabar. Criaturas afetadas também retêm seu modo normal de respiração.",
    classes: ["druid", "ranger", "sorcerer", "wizard"],
    concentration: false,
    ritual: true,
  },
  water_walk: {
    id: "water_walk",
    name: "Andar na Água",
    level: 3,
    school: "transmutation",
    castingTime: "1 ação",
    range: "9 metros",
    components: { verbal: true, somatic: true, material: "um pedaço de cortiça" },
    duration: "1 hora",
    description: "Esta magia concede a habilidade de se mover através de qualquer superfície líquida — como água, ácido, lama, neve, areia movediça ou lava — como se fosse chão sólido inofensivo (criaturas atravessando lava derretida ainda podem sofrer dano do calor). Até dez criaturas voluntárias que você pode ver ao alcance ganham esta habilidade pela duração.",
    classes: ["cleric", "druid", "ranger", "sorcerer"],
    concentration: false,
    ritual: true,
  },
  sleet_storm: {
    id: "sleet_storm",
    name: "Tempestade de Granizo",
    level: 3,
    school: "conjuration",
    castingTime: "1 ação",
    range: "45 metros",
    components: { verbal: true, somatic: true, material: "uma pitada de poeira e algumas gotas de água" },
    duration: "Concentração, até 1 minuto",
    description: "Até a magia acabar, chuva congelante e granizo caem em um cilindro de 6 metros de altura com um raio de 12 metros centrado em um ponto que você escolher ao alcance. A área é fortemente obscurecida, e chamas expostas na área são apagadas. O chão na área é coberto com gelo escorregadio, tornando-o terreno difícil.",
    savingThrow: "dexterity",
    classes: ["druid", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  stinking_cloud: {
    id: "stinking_cloud",
    name: "Nuvem Fétida",
    level: 3,
    school: "conjuration",
    castingTime: "1 ação",
    range: "27 metros",
    components: { verbal: true, somatic: true, material: "um ovo podre ou várias folhas de repolho fedorento" },
    duration: "Concentração, até 1 minuto",
    description: "Você cria uma esfera de gás amarelo nauseante de 6 metros de raio centrada em um ponto ao alcance. A nuvem se espalha ao redor de cantos, e sua área é fortemente obscurecida. A nuvem permanece no ar pela duração. Cada criatura que está completamente dentro da nuvem no início de seu turno deve fazer um teste de resistência de Constituição contra veneno. Se falhar, a criatura gasta sua ação naquele turno vomitando e cambaleando.",
    savingThrow: "constitution",
    classes: ["bard", "sorcerer", "wizard"],
    concentration: true,
    ritual: false,
  },
  crusaders_mantle: {
    id: "crusaders_mantle",
    name: "Manto do Cruzado",
    level: 3,
    school: "evocation",
    castingTime: "1 ação",
    range: "Pessoal",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "Poder sagrado irradia de você em uma aura com um raio de 9 metros, despertando ousadia em aliados amigáveis. Até a magia acabar, a aura se move com você, centrada em você. Enquanto na aura, cada criatura não hostil na aura (incluindo você) causa 1d4 de dano radiante extra quando ela acerta com um ataque com arma.",
    damage: { dice: "1d4", type: "radiant" },
    classes: ["paladin"],
    concentration: true,
    ritual: false,
  },
  aura_of_vitality: {
    id: "aura_of_vitality",
    name: "Aura de Vitalidade",
    level: 3,
    school: "evocation",
    castingTime: "1 ação",
    range: "Pessoal (raio de 9 metros)",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "Energia curativa irradia de você em uma aura com um raio de 9 metros. Até a magia acabar, a aura se move com você, centrada em você. Você pode usar uma ação bônus para fazer uma criatura na aura (incluindo você) recuperar 2d6 pontos de vida.",
    healing: { dice: "2d6" },
    classes: ["cleric", "druid", "paladin"],
    concentration: true,
    ritual: false,
  },
  blinding_smite: {
    id: "blinding_smite",
    name: "Punição Cegante",
    level: 3,
    school: "evocation",
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: { verbal: true, somatic: false },
    duration: "Concentração, até 1 minuto",
    description: "A próxima vez que você acertar uma criatura com um ataque corpo a corpo com arma durante a duração desta magia, sua arma flameja com uma luz brilhante, e o ataque causa 3d8 de dano radiante extra ao alvo. Além disso, o alvo deve ter sucesso em um teste de resistência de Constituição ou ficar cego até a magia acabar.",
    damage: { dice: "3d8", type: "radiant" },
    savingThrow: "constitution",
    classes: ["paladin"],
    concentration: true,
    ritual: false,
  },
  elemental_weapon: {
    id: "elemental_weapon",
    name: "Arma Elemental",
    level: 3,
    school: "transmutation",
    castingTime: "1 ação",
    range: "Toque",
    components: { verbal: true, somatic: true },
    duration: "Concentração, até 1 hora",
    description: "Uma arma não mágica que você toca se torna uma arma mágica. Escolha um dos seguintes tipos de dano: ácido, frio, fogo, relâmpago ou trovão. Pela duração, a arma tem um bônus de +1 nas jogadas de ataque e causa 1d4 de dano extra do tipo escolhido quando acerta.",
    damage: { dice: "1d4", type: "elemental" },
    classes: ["druid", "paladin", "ranger"],
    concentration: true,
    ritual: false,
  },
} as const;

// ============================================
// SPELL SLOTS PER LEVEL (D&D 5e 2024)
// ============================================

export const SPELL_SLOTS_BY_LEVEL: Record<number, number[]> = {
  1: [2, 0, 0, 0, 0, 0, 0, 0, 0],
  2: [3, 0, 0, 0, 0, 0, 0, 0, 0],
  3: [4, 2, 0, 0, 0, 0, 0, 0, 0],
  4: [4, 3, 0, 0, 0, 0, 0, 0, 0],
  5: [4, 3, 2, 0, 0, 0, 0, 0, 0],
  6: [4, 3, 3, 0, 0, 0, 0, 0, 0],
  7: [4, 3, 3, 1, 0, 0, 0, 0, 0],
  8: [4, 3, 3, 2, 0, 0, 0, 0, 0],
  9: [4, 3, 3, 3, 1, 0, 0, 0, 0],
  10: [4, 3, 3, 3, 2, 0, 0, 0, 0],
  11: [4, 3, 3, 3, 2, 1, 0, 0, 0],
  12: [4, 3, 3, 3, 2, 1, 0, 0, 0],
  13: [4, 3, 3, 3, 2, 1, 1, 0, 0],
  14: [4, 3, 3, 3, 2, 1, 1, 0, 0],
  15: [4, 3, 3, 3, 2, 1, 1, 1, 0],
  16: [4, 3, 3, 3, 2, 1, 1, 1, 0],
  17: [4, 3, 3, 3, 2, 1, 1, 1, 1],
  18: [4, 3, 3, 3, 3, 1, 1, 1, 1],
  19: [4, 3, 3, 3, 3, 2, 1, 1, 1],
  20: [4, 3, 3, 3, 3, 2, 2, 1, 1],
};

// Cantrips known by level for each class
export const CANTRIPS_KNOWN_BY_LEVEL: Record<string, number[]> = {
  bard: [2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],
  cleric: [3, 3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
  druid: [2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],
  sorcerer: [4, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
  warlock: [2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],
  wizard: [3, 3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
};

// ============================================
// ATTRIBUTE NAMES
// ============================================

export const ATTRIBUTES = {
  strength: { name: "Força", abbr: "FOR", description: "Poder físico e capacidade de combate corpo a corpo" },
  dexterity: { name: "Destreza", abbr: "DES", description: "Agilidade, reflexos e precisão" },
  constitution: { name: "Constituição", abbr: "CON", description: "Resistência física e pontos de vida" },
  intelligence: { name: "Inteligência", abbr: "INT", description: "Conhecimento arcano e poder mágico" },
  wisdom: { name: "Sabedoria", abbr: "SAB", description: "Percepção e conexão espiritual" },
  charisma: { name: "Carisma", abbr: "CAR", description: "Influência social e liderança" },
} as const;

export type Attribute = keyof typeof ATTRIBUTES;

// ============================================
// ITEM RARITIES
// ============================================

export const RARITIES = {
  common: { name: "Comum", color: "#9CA3AF", multiplier: 1.0 },
  uncommon: { name: "Incomum", color: "#22C55E", multiplier: 1.25 },
  rare: { name: "Raro", color: "#3B82F6", multiplier: 1.5 },
  epic: { name: "Épico", color: "#A855F7", multiplier: 2.0 },
  legendary: { name: "Lendário", color: "#F59E0B", multiplier: 3.0 },
} as const;

export type Rarity = keyof typeof RARITIES;

// ============================================
// MONSTER TIERS
// ============================================

export const MONSTER_TIERS = {
  common: { name: "Comum", healthMultiplier: 1.0, damageMultiplier: 1.0, rewardMultiplier: 1.0, color: "bg-gray-500" },
  elite: { name: "Elite", healthMultiplier: 2.0, damageMultiplier: 1.5, rewardMultiplier: 2.0, color: "bg-blue-500" },
  boss: { name: "Chefe", healthMultiplier: 5.0, damageMultiplier: 2.0, rewardMultiplier: 5.0, color: "bg-purple-500" },
  legendary: { name: "Lendário", healthMultiplier: 10.0, damageMultiplier: 3.0, rewardMultiplier: 10.0, color: "bg-amber-500" },
} as const;

export type MonsterTier = keyof typeof MONSTER_TIERS;

// ============================================
// BIOME TYPES
// ============================================

export const BIOMES = {
  urban: { name: "Urbano", description: "Cidades e vilas", icon: "🏰" },
  forest: { name: "Floresta", description: "Áreas arborizadas", icon: "🌲" },
  water: { name: "Água", description: "Rios, lagos e oceanos", icon: "🌊" },
  mountain: { name: "Montanha", description: "Terrenos elevados", icon: "⛰️" },
  desert: { name: "Deserto", description: "Áreas áridas", icon: "🏜️" },
  plains: { name: "Planície", description: "Campos abertos", icon: "🌾" },
} as const;

export type BiomeType = keyof typeof BIOMES;

// ============================================
// DICE TYPES
// ============================================

export const DICE = {
  d4: { sides: 4, name: "d4" },
  d6: { sides: 6, name: "d6" },
  d8: { sides: 8, name: "d8" },
  d10: { sides: 10, name: "d10" },
  d12: { sides: 12, name: "d12" },
  d20: { sides: 20, name: "d20" },
  d100: { sides: 100, name: "d100" },
} as const;

export type DiceType = keyof typeof DICE;

// ============================================
// LEVEL PROGRESSION (D&D 5e)
// ============================================

export const LEVEL_XP_REQUIREMENTS = [
  0,      // Level 1
  300,    // Level 2
  900,    // Level 3
  2700,   // Level 4
  6500,   // Level 5
  14000,  // Level 6
  23000,  // Level 7
  34000,  // Level 8
  48000,  // Level 9
  64000,  // Level 10
  85000,  // Level 11
  100000, // Level 12
  120000, // Level 13
  140000, // Level 14
  165000, // Level 15
  195000, // Level 16
  225000, // Level 17
  265000, // Level 18
  305000, // Level 19
  355000, // Level 20
] as const;

export const MAX_LEVEL = 20;
export const STAT_POINTS_PER_LEVEL = 2;

// ============================================
// XP BY CHALLENGE RATING (D&D 5e Official)
// ============================================

export const XP_BY_CR: Record<string, number> = {
  "0": 10,
  "1/8": 25,
  "1/4": 50,
  "1/2": 100,
  "1": 200,
  "2": 450,
  "3": 700,
  "4": 1100,
  "5": 1800,
  "6": 2300,
  "7": 2900,
  "8": 3900,
  "9": 5000,
  "10": 5900,
  "11": 7200,
  "12": 8400,
  "13": 10000,
  "14": 11500,
  "15": 13000,
  "16": 15000,
  "17": 18000,
  "18": 20000,
  "19": 22000,
  "20": 25000,
  "21": 33000,
  "22": 41000,
  "23": 50000,
  "24": 62000,
  "25": 75000,
  "26": 90000,
  "27": 105000,
  "28": 120000,
  "29": 135000,
  "30": 155000,
} as const;

// Helper function to get XP from CR
export function getXPFromCR(cr: string): number {
  return XP_BY_CR[cr] || XP_BY_CR["1"];
}

// ============================================
// COMBAT CONSTANTS
// ============================================

export const COMBAT = {
  BASE_HIT_CHANCE: 0.65,
  CRITICAL_HIT_MULTIPLIER: 2,
  CRITICAL_HIT_THRESHOLD: 20,
  CRITICAL_MISS_THRESHOLD: 1,
  FLEE_BASE_CHANCE: 0.4,
  FLEE_DEX_BONUS: 0.02,
} as const;

// ============================================
// MAP CONSTANTS
// ============================================

export const MAP = {
  DEFAULT_ZOOM: 16,
  MIN_ZOOM: 12,
  MAX_ZOOM: 19,
  POI_SPAWN_RADIUS_METERS: 500,
  MAX_POIS_PER_AREA: 15,
  INTERACTION_RADIUS_METERS: 50,
} as const;

// ============================================
// NPC TYPES
// ============================================

export const NPC_TYPES = {
  merchant: { name: "Mercador", icon: "🛒", description: "Vende itens gerais" },
  blacksmith: { name: "Ferreiro", icon: "⚒️", description: "Vende armas e armaduras" },
  alchemist: { name: "Alquimista", icon: "⚗️", description: "Vende poções e ingredientes" },
  quest_giver: { name: "Aventureiro", icon: "📜", description: "Oferece missões" },
  trainer: { name: "Treinador", icon: "🎯", description: "Ensina habilidades" },
  innkeeper: { name: "Estalajadeiro", icon: "🏨", description: "Oferece descanso e recuperação" },
  wizard_vendor: { name: "Mago Vendedor", icon: "🔮", description: "Vende pergaminhos e itens mágicos" },
} as const;

export type NpcType = keyof typeof NPC_TYPES;

// ============================================
// LOCATION TYPES (Cities, Castles, etc)
// ============================================

export const LOCATION_TYPES = {
  city: { name: "Cidade", icon: "🏰", description: "Uma cidade com lojas, tavernas e guildas", size: "large" },
  castle: { name: "Castelo", icon: "🏰", description: "Uma fortaleza com guarda e nobres", size: "large" },
  tavern: { name: "Taverna", icon: "🍺", description: "Um lugar para descansar e ouvir rumores", size: "small" },
  guild_hall: { name: "Sede de Guilda", icon: "⚔️", description: "Centro de aventureiros e missões", size: "medium" },
  temple: { name: "Templo", icon: "⛪", description: "Local sagrado de cura e bênçãos", size: "medium" },
  blacksmith: { name: "Ferreiro", icon: "🔨", description: "Forja de armas e armaduras", size: "small" },
  magic_shop: { name: "Loja Mágica", icon: "🔮", description: "Vende itens mágicos e pergaminhos", size: "small" },
  dungeon: { name: "Masmorra", icon: "🚧", description: "Uma masmorra perigosa cheia de tesouros", size: "large" },
  monster_spawn: { name: "Território Hostil", icon: "👹", description: "Área com monstros selvagens", size: "small" },
  treasure: { name: "Tesouro", icon: "💰", description: "Um baú de tesouro escondido", size: "small" },
  npc_location: { name: "NPC", icon: "👤", description: "Um personagem não-jogador", size: "small" },
  shop: { name: "Loja", icon: "🛒", description: "Uma loja de itens gerais", size: "small" },
  quest_marker: { name: "Missão", icon: "❗", description: "Local de uma missão", size: "small" },
} as const;

export type LocationType = keyof typeof LOCATION_TYPES;

// ============================================
// FAMOUS D&D CITIES
// ============================================

export const DND_CITIES = [
  { name: "Waterdeep", description: "A Cidade dos Esplêndores, metrópole costeira cheia de intrigas", region: "Costa da Espada" },
  { name: "Baldur's Gate", description: "Uma cidade portuária caótica e perigosa", region: "Costa da Espada" },
  { name: "Neverwinter", description: "A Cidade das Gemas Hábeis, reconstruindo após a catástrofe", region: "Costa da Espada" },
  { name: "Luskan", description: "A Cidade das Velas, controlada por piratas", region: "Costa da Espada" },
  { name: "Silverymoon", description: "A Gema do Norte, cidade de magia e cultura", region: "Norte Selvagem" },
  { name: "Mithral Hall", description: "Fortaleza anã sob as montanhas", region: "Norte Selvagem" },
  { name: "Menzoberranzan", description: "Cidade drow nas profundezas do Subterrâneo", region: "Subterrâneo" },
  { name: "Candlekeep", description: "Fortaleza-biblioteca de conhecimento antigo", region: "Costa da Espada" },
  { name: "Elturel", description: "Cidade santa protegida por uma luz divina", region: "Elturgard" },
  { name: "Athkatla", description: "A Cidade das Moedas, capital de Amn", region: "Amn" },
  { name: "Calimport", description: "A maior cidade de Faerûn, cheia de intrigas", region: "Calimshan" },
  { name: "Suzail", description: "Capital real de Cormyr", region: "Cormyr" },
  { name: "Myth Drannor", description: "Ruínas élficas de grande poder mágico", region: "Cormanthor" },
  { name: "Thay", description: "Nação de magos vermelhos e necromantes", region: "Thay" },
  { name: "Ravenloft", description: "O castelo assombrado de Strahd", region: "Barovia" },
] as const;

// ============================================
// CASTLE TYPES
// ============================================

export const CASTLE_TYPES = [
  { name: "Castelo Real", description: "Sede de um rei ou rainha", tier: "legendary", icon: "👑" },
  { name: "Fortaleza", description: "Uma fortaleza militar", tier: "boss", icon: "🏰" },
  { name: "Torre do Mago", description: "Residência de um mago poderoso", tier: "elite", icon: "🪄" },
  { name: "Ruínas Antigas", description: "Ruínas de uma civilização perdida", tier: "elite", icon: "🏚️" },
  { name: "Castelo Assombrado", description: "Um castelo tomado por mortos-vivos", tier: "boss", icon: "💀" },
  { name: "Forte dos Bandidos", description: "Esconderijo de foras-da-lei", tier: "common", icon: "⚔️" },
  { name: "Templo Antigo", description: "Um templo dedicado a deuses esquecidos", tier: "elite", icon: "⛪" },
  { name: "Covil do Dragão", description: "A toca de um dragão", tier: "legendary", icon: "🐉" },
] as const;

// ============================================
// QUEST TYPES
// ============================================

export const QUEST_TYPES = {
  kill: { name: "Caça", description: "Derrote monstros específicos" },
  collect: { name: "Coleta", description: "Colete itens específicos" },
  explore: { name: "Exploração", description: "Descubra novos locais" },
  escort: { name: "Escolta", description: "Proteja um NPC" },
  deliver: { name: "Entrega", description: "Leve um item a um destino" },
  boss: { name: "Chefe", description: "Derrote um chefe poderoso" },
} as const;

export type QuestType = keyof typeof QUEST_TYPES;

// ============================================
// ITEM TYPES
// ============================================

export const ITEM_TYPES = {
  weapon: { name: "Arma", slot: "weapon", icon: "⚔️" },
  armor: { name: "Armadura", slot: "armor", icon: "🛡️" },
  helmet: { name: "Elmo", slot: "helmet", icon: "⛑️" },
  boots: { name: "Botas", slot: "boots", icon: "👢" },
  gloves: { name: "Luvas", slot: "gloves", icon: "🧤" },
  ring: { name: "Anel", slot: "ring1", icon: "💍" },
  amulet: { name: "Amuleto", slot: "amulet", icon: "📿" },
  potion: { name: "Poção", slot: null, icon: "🧪" },
  scroll: { name: "Pergaminho", slot: null, icon: "📜" },
  material: { name: "Material", slot: null, icon: "💎" },
  quest_item: { name: "Item de Missão", slot: null, icon: "🔑" },
  spellbook: { name: "Grimório", slot: null, icon: "📕" },
  wand: { name: "Varinha", slot: "weapon", icon: "🪄" },
  staff: { name: "Cajado", slot: "weapon", icon: "🏑" },
} as const;

export type ItemType = keyof typeof ITEM_TYPES;

// ============================================
// DAMAGE TYPES
// ============================================

export const DAMAGE_TYPES = {
  slashing: { name: "Cortante", icon: "⚔️" },
  piercing: { name: "Perfurante", icon: "🗡️" },
  bludgeoning: { name: "Contundente", icon: "🔨" },
  fire: { name: "Fogo", icon: "🔥" },
  cold: { name: "Frio", icon: "❄️" },
  lightning: { name: "Elétrico", icon: "⚡" },
  thunder: { name: "Trovão", icon: "💨" },
  acid: { name: "Ácido", icon: "🧪" },
  poison: { name: "Veneno", icon: "☠️" },
  necrotic: { name: "Necrótico", icon: "💀" },
  radiant: { name: "Radiante", icon: "✨" },
  force: { name: "Força", icon: "💫" },
  psychic: { name: "Psíquico", icon: "🧠" },
} as const;

export type DamageType = keyof typeof DAMAGE_TYPES;

// ============================================
// CONDITIONS
// ============================================

export const CONDITIONS = {
  blinded: { name: "Cego", description: "Não pode ver, falha automaticamente em testes que requerem visão" },
  charmed: { name: "Enfeitiçado", description: "Não pode atacar quem o enfeitiçou" },
  deafened: { name: "Surdo", description: "Não pode ouvir, falha automaticamente em testes que requerem audição" },
  frightened: { name: "Amedrontado", description: "Desvantagem em testes enquanto a fonte do medo estiver visível" },
  grappled: { name: "Agarrado", description: "Velocidade se torna 0" },
  incapacitated: { name: "Incapacitado", description: "Não pode realizar ações ou reações" },
  invisible: { name: "Invisível", description: "Impossível de ver sem magia ou sentido especial" },
  paralyzed: { name: "Paralisado", description: "Incapacitado e não pode se mover ou falar" },
  petrified: { name: "Petrificado", description: "Transformado em substância sólida inanimada" },
  poisoned: { name: "Envenenado", description: "Desvantagem em jogadas de ataque e testes de habilidade" },
  prone: { name: "Caído", description: "Desvantagem em jogadas de ataque, ataques corpo a corpo têm vantagem" },
  restrained: { name: "Contido", description: "Velocidade 0, ataques têm vantagem contra você" },
  stunned: { name: "Atordoado", description: "Incapacitado, não pode se mover, falha em testes de FOR e DES" },
  unconscious: { name: "Inconsciente", description: "Incapacitado, não pode se mover ou falar, cai no chão" },
  exhaustion: { name: "Exaustão", description: "Penalidades cumulativas baseadas no nível de exaustão" },
} as const;

export type Condition = keyof typeof CONDITIONS;


// ============================================
// RACES (D&D 5e 2024)
// ============================================

export const RACES = {
  human: {
    name: "Humano",
    description: "Versáteis e ambiciosos, os humanos são a raça mais comum e adaptável.",
    abilityScoreIncrease: { choice: 2, any: true }, // +1 em dois atributos à escolha
    size: "Medium",
    speed: 30,
    traits: ["Versátil: +1 proficiência de skill à escolha", "Determinado: Vantagem em testes de resistência contra medo"],
    languages: ["Comum", "Um idioma à escolha"],
  },
  elf: {
    name: "Elfo",
    description: "Graciosos e longevos, os elfos possuem sentidos aguçados e afinidade com magia.",
    abilityScoreIncrease: { dexterity: 2 },
    size: "Medium",
    speed: 30,
    traits: ["Visão no Escuro: 18m", "Ancestralidade Feérica: Vantagem contra encantamento", "Transe: 4h de descanso = 8h de sono"],
    languages: ["Comum", "Élfico"],
    subraces: {
      high: { name: "Alto Elfo", abilityBonus: { intelligence: 1 }, traits: ["Cantrip de Wizard à escolha", "Armas Élficas"] },
      wood: { name: "Elfo da Floresta", abilityBonus: { wisdom: 1 }, traits: ["Pés Ligeiros: +5 velocidade", "Máscara da Natureza"] },
      dark: { name: "Drow", abilityBonus: { charisma: 1 }, traits: ["Visão no Escuro Superior: 36m", "Magia Drow"] },
    },
  },
  dwarf: {
    name: "Anão",
    description: "Resistentes e tradicionais, os anões são mestres artesãos e guerreiros destemidos.",
    abilityScoreIncrease: { constitution: 2 },
    size: "Medium",
    speed: 25,
    traits: ["Visão no Escuro: 18m", "Resiliência Anã: Vantagem contra veneno", "Treinamento Anão em Combate"],
    languages: ["Comum", "Anão"],
    subraces: {
      hill: { name: "Anão da Colina", abilityBonus: { wisdom: 1 }, traits: ["Tenacidade Anã: +1 HP por nível"] },
      mountain: { name: "Anão da Montanha", abilityBonus: { strength: 2 }, traits: ["Treinamento em Armaduras"] },
    },
  },
  halfling: {
    name: "Halfling",
    description: "Pequenos e sortudos, os halflings são conhecidos por sua coragem e boa sorte.",
    abilityScoreIncrease: { dexterity: 2 },
    size: "Small",
    speed: 25,
    traits: ["Sortudo: Rerolar 1 natural em d20", "Corajoso: Vantagem contra medo", "Agilidade Halfling: Mover através de criaturas maiores"],
    languages: ["Comum", "Halfling"],
    subraces: {
      lightfoot: { name: "Pés Leves", abilityBonus: { charisma: 1 }, traits: ["Furtividade Natural"] },
      stout: { name: "Robusto", abilityBonus: { constitution: 1 }, traits: ["Resiliência Robusta: Resistência a veneno"] },
    },
  },
  halfelf: {
    name: "Meio-Elfo",
    description: "Combinando a versatilidade humana com a graça élfica.",
    abilityScoreIncrease: { charisma: 2, choice: 2 }, // +2 CHA, +1 em dois outros
    size: "Medium",
    speed: 30,
    traits: ["Visão no Escuro: 18m", "Ancestralidade Feérica", "Versatilidade de Perícias: +2 proficiências"],
    languages: ["Comum", "Élfico", "Um idioma à escolha"],
  },
  halforc: {
    name: "Meio-Orc",
    description: "Poderosos e intimidadores, os meio-orcs combinam força bruta com determinação.",
    abilityScoreIncrease: { strength: 2, constitution: 1 },
    size: "Medium",
    speed: 30,
    traits: ["Visão no Escuro: 18m", "Ameaçador: Proficiência em Intimidação", "Resistência Implacável: 1 HP quando cai a 0", "Ataques Selvagens: Dado extra em crítico"],
    languages: ["Comum", "Orc"],
  },
  tiefling: {
    name: "Tiefling",
    description: "Descendentes de linhagens infernais, os tieflings carregam o legado de Asmodeus.",
    abilityScoreIncrease: { charisma: 2, intelligence: 1 },
    size: "Medium",
    speed: 30,
    traits: ["Visão no Escuro: 18m", "Resistência Infernal: Resistência a fogo", "Legado Infernal: Thaumaturgy, Hellish Rebuke, Darkness"],
    languages: ["Comum", "Infernal"],
  },
  dragonborn: {
    name: "Draconato",
    description: "Orgulhosos guerreiros com sangue de dragão, capazes de soprar energia elemental.",
    abilityScoreIncrease: { strength: 2, charisma: 1 },
    size: "Medium",
    speed: 30,
    traits: ["Ancestralidade Dracônica: Escolha tipo de dragão", "Sopro: Cone ou linha de dano elemental", "Resistência a Dano: Tipo do dragão ancestral"],
    languages: ["Comum", "Dracônico"],
    dragonTypes: {
      black: { damageType: "acid", breathShape: "line" },
      blue: { damageType: "lightning", breathShape: "line" },
      brass: { damageType: "fire", breathShape: "line" },
      bronze: { damageType: "lightning", breathShape: "line" },
      copper: { damageType: "acid", breathShape: "line" },
      gold: { damageType: "fire", breathShape: "cone" },
      green: { damageType: "poison", breathShape: "cone" },
      red: { damageType: "fire", breathShape: "cone" },
      silver: { damageType: "cold", breathShape: "cone" },
      white: { damageType: "cold", breathShape: "cone" },
    },
  },
  gnome: {
    name: "Gnomo",
    description: "Inventivos e curiosos, os gnomos são mestres da ilusão e engenharia.",
    abilityScoreIncrease: { intelligence: 2 },
    size: "Small",
    speed: 25,
    traits: ["Visão no Escuro: 18m", "Esperteza Gnômica: Vantagem em INT/WIS/CHA contra magia"],
    languages: ["Comum", "Gnômico"],
    subraces: {
      forest: { name: "Gnomo da Floresta", abilityBonus: { dexterity: 1 }, traits: ["Ilusionista Natural", "Falar com Animais Pequenos"] },
      rock: { name: "Gnomo das Rochas", abilityBonus: { constitution: 1 }, traits: ["Conhecimento de Artífice", "Engenhoqueiro"] },
    },
  },
} as const;

export type Race = keyof typeof RACES;

// ============================================
// BACKGROUNDS (D&D 5e 2024)
// ============================================

export const BACKGROUNDS = {
  acolyte: {
    name: "Acólito",
    description: "Você passou sua vida a serviço de um templo a um deus específico.",
    skillProficiencies: ["insight", "religion"],
    languages: 2,
    equipment: ["Símbolo sagrado", "Livro de orações", "5 varas de incenso", "Vestimentas", "15 po"],
    feature: "Abrigo dos Fiéis: Templos oferecem abrigo e cura gratuita",
  },
  charlatan: {
    name: "Charlatão",
    description: "Você sempre teve facilidade para enganar pessoas e criar identidades falsas.",
    skillProficiencies: ["deception", "sleight_of_hand"],
    toolProficiencies: ["Ferramentas de disfarce", "Kit de falsificação"],
    equipment: ["Roupas finas", "Kit de disfarce", "Ferramentas de trapaça", "15 po"],
    feature: "Identidade Falsa: Você tem uma segunda identidade documentada",
  },
  criminal: {
    name: "Criminoso",
    description: "Você é um criminoso experiente com um histórico de quebrar a lei.",
    skillProficiencies: ["deception", "stealth"],
    toolProficiencies: ["Ferramentas de ladrão", "Um tipo de jogo"],
    equipment: ["Pé de cabra", "Roupas escuras com capuz", "15 po"],
    feature: "Contato Criminal: Você tem um contato confiável no submundo",
  },
  entertainer: {
    name: "Artista",
    description: "Você prospera diante de uma plateia, seja como músico, ator ou dançarino.",
    skillProficiencies: ["acrobatics", "performance"],
    toolProficiencies: ["Kit de disfarce", "Um instrumento musical"],
    equipment: ["Instrumento musical", "Favor de um admirador", "Fantasia", "15 po"],
    feature: "Por Demanda Popular: Você sempre encontra um lugar para se apresentar",
  },
  folk_hero: {
    name: "Herói do Povo",
    description: "Você vem de origens humildes, mas está destinado a muito mais.",
    skillProficiencies: ["animal_handling", "survival"],
    toolProficiencies: ["Um tipo de ferramenta de artesão", "Veículos terrestres"],
    equipment: ["Ferramentas de artesão", "Pá", "Panela de ferro", "Roupas comuns", "10 po"],
    feature: "Hospitalidade Rústica: Pessoas comuns oferecem abrigo e comida",
  },
  guild_artisan: {
    name: "Artesão de Guilda",
    description: "Você é membro de uma guilda de artesãos, treinado em um ofício específico.",
    skillProficiencies: ["insight", "persuasion"],
    toolProficiencies: ["Um tipo de ferramenta de artesão"],
    languages: 1,
    equipment: ["Ferramentas de artesão", "Carta de apresentação da guilda", "Roupas de viajante", "15 po"],
    feature: "Membro da Guilda: A guilda oferece hospedagem e ajuda legal",
  },
  hermit: {
    name: "Eremita",
    description: "Você viveu em reclusão por um longo período, em oração ou estudo.",
    skillProficiencies: ["medicine", "religion"],
    toolProficiencies: ["Kit de herbalismo"],
    languages: 1,
    equipment: ["Estojo de pergaminhos", "Cobertor de inverno", "Roupas comuns", "Kit de herbalismo", "5 po"],
    feature: "Descoberta: Você descobriu um segredo único durante sua reclusão",
  },
  noble: {
    name: "Nobre",
    description: "Você nasceu em uma família de riqueza, poder e privilégio.",
    skillProficiencies: ["history", "persuasion"],
    toolProficiencies: ["Um tipo de jogo"],
    languages: 1,
    equipment: ["Roupas finas", "Anel de sinete", "Pergaminho de linhagem", "25 po"],
    feature: "Posição de Privilégio: Pessoas comuns fazem de tudo para agradá-lo",
  },
  outlander: {
    name: "Forasteiro",
    description: "Você cresceu nas terras selvagens, longe da civilização.",
    skillProficiencies: ["athletics", "survival"],
    toolProficiencies: ["Um instrumento musical"],
    languages: 1,
    equipment: ["Cajado", "Armadilha de caça", "Troféu de animal", "Roupas de viajante", "10 po"],
    feature: "Andarilho: Você tem memória excelente para mapas e geografia",
  },
  sage: {
    name: "Sábio",
    description: "Você passou anos estudando o conhecimento do multiverso.",
    skillProficiencies: ["arcana", "history"],
    languages: 2,
    equipment: ["Tinta preta", "Pena", "Faca pequena", "Carta de uma colega", "Roupas comuns", "10 po"],
    feature: "Pesquisador: Você sabe onde encontrar informações desconhecidas",
  },
  sailor: {
    name: "Marinheiro",
    description: "Você navegou em um navio marítimo por anos.",
    skillProficiencies: ["athletics", "perception"],
    toolProficiencies: ["Ferramentas de navegação", "Veículos aquáticos"],
    equipment: ["Belaying pin (clava)", "15m de corda de seda", "Amuleto de sorte", "Roupas comuns", "10 po"],
    feature: "Passagem de Navio: Você pode garantir passagem gratuita em navios",
  },
  soldier: {
    name: "Soldado",
    description: "Você serviu como soldado em um exército ou milícia.",
    skillProficiencies: ["athletics", "intimidation"],
    toolProficiencies: ["Um tipo de jogo", "Veículos terrestres"],
    equipment: ["Insígnia de patente", "Troféu de inimigo", "Conjunto de dados", "Roupas comuns", "10 po"],
    feature: "Patente Militar: Soldados reconhecem sua autoridade",
  },
  urchin: {
    name: "Órfão",
    description: "Você cresceu nas ruas, aprendendo a sobreviver sozinho.",
    skillProficiencies: ["sleight_of_hand", "stealth"],
    toolProficiencies: ["Kit de disfarce", "Ferramentas de ladrão"],
    equipment: ["Faca pequena", "Mapa da cidade", "Rato de estimação", "Lembrança dos pais", "Roupas comuns", "10 po"],
    feature: "Segredos da Cidade: Você conhece passagens secretas nas cidades",
  },
} as const;

export type Background = keyof typeof BACKGROUNDS;

// ============================================
// SKILLS (D&D 5e 2024)
// ============================================

export const SKILLS = {
  acrobatics: { name: "Acrobacia", ability: "dexterity", description: "Equilíbrio, saltos e manobras acrobáticas" },
  animal_handling: { name: "Adestrar Animais", ability: "wisdom", description: "Acalmar, treinar e entender animais" },
  arcana: { name: "Arcanismo", ability: "intelligence", description: "Conhecimento sobre magia, planos e criaturas mágicas" },
  athletics: { name: "Atletismo", ability: "strength", description: "Escalar, nadar, saltar e proezas físicas" },
  deception: { name: "Enganação", ability: "charisma", description: "Mentir, disfarçar intenções e enganar" },
  history: { name: "História", ability: "intelligence", description: "Conhecimento sobre eventos, pessoas e lugares históricos" },
  insight: { name: "Intuição", ability: "wisdom", description: "Determinar intenções e detectar mentiras" },
  intimidation: { name: "Intimidação", ability: "charisma", description: "Ameaçar e coagir através do medo" },
  investigation: { name: "Investigação", ability: "intelligence", description: "Procurar pistas, deduzir e analisar" },
  medicine: { name: "Medicina", ability: "wisdom", description: "Estabilizar feridos e diagnosticar doenças" },
  nature: { name: "Natureza", ability: "intelligence", description: "Conhecimento sobre terreno, plantas e animais" },
  perception: { name: "Percepção", ability: "wisdom", description: "Notar detalhes, detectar presenças e perigos" },
  performance: { name: "Atuação", ability: "charisma", description: "Entreter através de música, dança ou atuação" },
  persuasion: { name: "Persuasão", ability: "charisma", description: "Influenciar através de tato e diplomacia" },
  religion: { name: "Religião", ability: "intelligence", description: "Conhecimento sobre deuses, rituais e símbolos" },
  sleight_of_hand: { name: "Prestidigitação", ability: "dexterity", description: "Truques de mão, furtos e prestidigitação" },
  stealth: { name: "Furtividade", ability: "dexterity", description: "Mover-se silenciosamente e se esconder" },
  survival: { name: "Sobrevivência", ability: "wisdom", description: "Rastrear, caçar e sobreviver na natureza" },
} as const;

export type Skill = keyof typeof SKILLS;

// ============================================
// CLASS ABILITIES (D&D 5e 2024)
// ============================================

export const CLASS_ABILITIES = {
  // BARBARIAN
  rage: {
    id: "rage",
    name: "Fúria",
    class: "barbarian",
    level: 1,
    description: "Entre em fúria como ação bônus. Ganhe resistência a dano físico, +2 de dano em ataques corpo a corpo, vantagem em testes de Força. Dura 1 minuto ou até ficar inconsciente.",
    usesPerRest: "long",
    usesAtLevel: [2, 2, 3, 3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 6, 6, 999],
    bonusDamageAtLevel: [2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4],
    effects: {
      damageResistance: ["bludgeoning", "piercing", "slashing"],
      advantageOn: ["strength_checks", "strength_saves"],
      cantCastSpells: true,
    },
  },
  reckless_attack: {
    id: "reckless_attack",
    name: "Ataque Descuidado",
    class: "barbarian",
    level: 2,
    description: "Ao fazer seu primeiro ataque no turno, você pode atacar descuidadamente. Você tem vantagem em ataques corpo a corpo usando Força, mas ataques contra você têm vantagem até seu próximo turno.",
    usesPerRest: "unlimited",
    effects: {
      advantageOnMeleeAttacks: true,
      enemiesHaveAdvantage: true,
    },
  },
  danger_sense: {
    id: "danger_sense",
    name: "Sentido de Perigo",
    class: "barbarian",
    level: 2,
    description: "Você tem vantagem em testes de resistência de Destreza contra efeitos que você pode ver, como armadilhas e magias. Não funciona se você estiver cego, surdo ou incapacitado.",
    usesPerRest: "passive",
    effects: {
      advantageOn: ["dexterity_saves"],
    },
  },
  brutal_critical: {
    id: "brutal_critical",
    name: "Crítico Brutal",
    class: "barbarian",
    level: 9,
    description: "Você pode rolar um dado de dano de arma adicional ao determinar o dano extra de um acerto crítico com um ataque corpo a corpo.",
    usesPerRest: "passive",
    extraDiceAtLevel: { 9: 1, 13: 2, 17: 3 },
  },
  
  // ROGUE
  sneak_attack: {
    id: "sneak_attack",
    name: "Ataque Furtivo",
    class: "rogue",
    level: 1,
    description: "Uma vez por turno, você pode causar dano extra a uma criatura que acertar com um ataque se tiver vantagem no ataque, ou se outro inimigo da criatura estiver a 1,5m dela.",
    usesPerRest: "per_turn",
    damageDiceAtLevel: ["1d6", "1d6", "2d6", "2d6", "3d6", "3d6", "4d6", "4d6", "5d6", "5d6", "6d6", "6d6", "7d6", "7d6", "8d6", "8d6", "9d6", "9d6", "10d6", "10d6"],
    requirements: {
      weaponType: ["finesse", "ranged"],
      needsAdvantageOrAlly: true,
    },
  },
  cunning_action: {
    id: "cunning_action",
    name: "Ação Ardilosa",
    class: "rogue",
    level: 2,
    description: "Você pode usar uma ação bônus para Dash, Disengage ou Hide.",
    usesPerRest: "unlimited",
    bonusActions: ["dash", "disengage", "hide"],
  },
  uncanny_dodge: {
    id: "uncanny_dodge",
    name: "Esquiva Sobrenatural",
    class: "rogue",
    level: 5,
    description: "Quando um atacante que você pode ver acerta você com um ataque, você pode usar sua reação para reduzir o dano pela metade.",
    usesPerRest: "reaction",
  },
  evasion: {
    id: "evasion",
    name: "Evasão",
    class: "rogue",
    level: 7,
    description: "Quando você é submetido a um efeito que permite um teste de resistência de Destreza para metade do dano, você não sofre dano se passar e apenas metade se falhar.",
    usesPerRest: "passive",
  },
  
  // PALADIN
  divine_smite: {
    id: "divine_smite",
    name: "Punição Divina",
    class: "paladin",
    level: 2,
    description: "Quando você acerta uma criatura com um ataque corpo a corpo com arma, você pode gastar um slot de magia para causar dano radiante adicional. 2d8 para slot de 1º nível, +1d8 por nível acima (máx 5d8). +1d8 contra mortos-vivos e demônios.",
    usesPerRest: "spell_slots",
    baseDamage: "2d8",
    damageType: "radiant",
    extraDamagePerSlotLevel: "1d8",
    maxDamage: "5d8",
    bonusVsUndead: "1d8",
  },
  lay_on_hands: {
    id: "lay_on_hands",
    name: "Cura pelas Mãos",
    class: "paladin",
    level: 1,
    description: "Você tem uma reserva de poder curativo igual a 5 x seu nível de paladino. Como ação, você pode tocar uma criatura e restaurar pontos de vida dessa reserva. Alternativamente, gaste 5 pontos para curar uma doença ou neutralizar um veneno.",
    usesPerRest: "long",
    poolPerLevel: 5,
  },
  divine_sense: {
    id: "divine_sense",
    name: "Sentido Divino",
    class: "paladin",
    level: 1,
    description: "Como ação, você pode detectar celestiais, demônios e mortos-vivos a até 18m. Você sabe o tipo e localização, mas não a identidade.",
    usesPerRest: "long",
    usesFormula: "1 + charisma_modifier",
  },
  aura_of_protection: {
    id: "aura_of_protection",
    name: "Aura de Proteção",
    class: "paladin",
    level: 6,
    description: "Você e criaturas amigáveis a até 3m ganham bônus em testes de resistência igual ao seu modificador de Carisma (mínimo +1). Aumenta para 9m no nível 18.",
    usesPerRest: "passive",
    rangeAtLevel: { 6: 3, 18: 9 },
  },
  
  // FIGHTER
  second_wind: {
    id: "second_wind",
    name: "Retomar Fôlego",
    class: "fighter",
    level: 1,
    description: "Como ação bônus, você pode recuperar pontos de vida iguais a 1d10 + seu nível de guerreiro.",
    usesPerRest: "short",
    uses: 1,
    healing: "1d10 + fighter_level",
  },
  action_surge: {
    id: "action_surge",
    name: "Surto de Ação",
    class: "fighter",
    level: 2,
    description: "Você pode forçar a si mesmo além dos limites normais por um momento. No seu turno, você pode realizar uma ação adicional.",
    usesPerRest: "short",
    usesAtLevel: { 2: 1, 17: 2 },
  },
  extra_attack: {
    id: "extra_attack",
    name: "Ataque Extra",
    class: "fighter",
    level: 5,
    description: "Você pode atacar duas vezes, em vez de uma, quando usa a ação de Ataque no seu turno. O número de ataques aumenta para três no 11º nível e quatro no 20º nível.",
    usesPerRest: "passive",
    attacksAtLevel: { 5: 2, 11: 3, 20: 4 },
  },
  indomitable: {
    id: "indomitable",
    name: "Indomável",
    class: "fighter",
    level: 9,
    description: "Você pode rolar novamente um teste de resistência que falhou. Se fizer isso, deve usar o novo resultado.",
    usesPerRest: "long",
    usesAtLevel: { 9: 1, 13: 2, 17: 3 },
  },
  
  // WIZARD
  arcane_recovery: {
    id: "arcane_recovery",
    name: "Recuperação Arcana",
    class: "wizard",
    level: 1,
    description: "Uma vez por dia, durante um descanso curto, você pode recuperar slots de magia gastos. Os slots recuperados podem ter um nível combinado igual ou menor que metade do seu nível de mago (arredondado para cima), e nenhum pode ser de 6º nível ou superior.",
    usesPerRest: "long",
    uses: 1,
    maxSlotLevel: 5,
  },
  spell_mastery: {
    id: "spell_mastery",
    name: "Maestria em Magia",
    class: "wizard",
    level: 18,
    description: "Escolha uma magia de 1º nível e uma de 2º nível do seu grimório. Você pode conjurá-las em seu nível mais baixo sem gastar um slot de magia.",
    usesPerRest: "passive",
  },
  
  // CLERIC
  channel_divinity: {
    id: "channel_divinity",
    name: "Canalizar Divindade",
    class: "cleric",
    level: 2,
    description: "Você ganha a habilidade de canalizar energia divina diretamente de sua divindade. Você começa com Turn Undead e um efeito determinado pelo seu domínio.",
    usesPerRest: "short",
    usesAtLevel: { 2: 1, 6: 2, 18: 3 },
  },
  turn_undead: {
    id: "turn_undead",
    name: "Expulsar Mortos-Vivos",
    class: "cleric",
    level: 2,
    description: "Como ação, você apresenta seu símbolo sagrado e fala uma prece contra mortos-vivos. Cada morto-vivo a 9m deve fazer um teste de resistência de Sabedoria. Se falhar, é expulso por 1 minuto ou até sofrer dano.",
    usesPerRest: "channel_divinity",
    range: 9,
    savingThrow: "wisdom",
  },
  destroy_undead: {
    id: "destroy_undead",
    name: "Destruir Mortos-Vivos",
    class: "cleric",
    level: 5,
    description: "Quando um morto-vivo falha no teste contra Expulsar Mortos-Vivos, ele é instantaneamente destruído se seu CR for igual ou menor que um limite baseado no seu nível.",
    usesPerRest: "passive",
    crThresholdAtLevel: { 5: 0.5, 8: 1, 11: 2, 14: 3, 17: 4 },
  },
  
  // MONK
  martial_arts: {
    id: "martial_arts",
    name: "Artes Marciais",
    class: "monk",
    level: 1,
    description: "Você pode usar Destreza em vez de Força para ataques e dano com armas de monge e ataques desarmados. Você pode rolar um d4 no lugar do dano normal. Quando usa Ataque com arma de monge, pode fazer um ataque desarmado como ação bônus.",
    usesPerRest: "passive",
    damageDieAtLevel: ["d4", "d4", "d4", "d4", "d6", "d6", "d6", "d6", "d6", "d6", "d8", "d8", "d8", "d8", "d8", "d8", "d10", "d10", "d10", "d10"],
  },
  ki: {
    id: "ki",
    name: "Ki",
    class: "monk",
    level: 2,
    description: "Você tem um número de pontos de ki igual ao seu nível de monge. Você pode gastar esses pontos para alimentar várias características de ki. Pontos de ki são recuperados após um descanso curto ou longo.",
    usesPerRest: "short",
    pointsPerLevel: 1,
    abilities: ["flurry_of_blows", "patient_defense", "step_of_the_wind"],
  },
  flurry_of_blows: {
    id: "flurry_of_blows",
    name: "Rajada de Golpes",
    class: "monk",
    level: 2,
    description: "Imediatamente após usar a ação de Ataque, você pode gastar 1 ponto de ki para fazer dois ataques desarmados como ação bônus.",
    usesPerRest: "ki",
    kiCost: 1,
  },
  stunning_strike: {
    id: "stunning_strike",
    name: "Golpe Atordoante",
    class: "monk",
    level: 5,
    description: "Quando você acerta outra criatura com um ataque corpo a corpo com arma, pode gastar 1 ponto de ki para tentar atordoá-la. O alvo deve ter sucesso em um teste de resistência de Constituição ou ficará atordoado até o final do seu próximo turno.",
    usesPerRest: "ki",
    kiCost: 1,
    savingThrow: "constitution",
  },
  
  // SORCERER
  sorcery_points: {
    id: "sorcery_points",
    name: "Pontos de Feitiçaria",
    class: "sorcerer",
    level: 2,
    description: "Você tem pontos de feitiçaria iguais ao seu nível de feiticeiro. Você pode usá-los para criar slots de magia ou alimentar Metamagia.",
    usesPerRest: "long",
    pointsPerLevel: 1,
  },
  metamagic: {
    id: "metamagic",
    name: "Metamagia",
    class: "sorcerer",
    level: 3,
    description: "Você ganha a habilidade de torcer suas magias para atender às suas necessidades. Escolha duas opções de Metamagia. Você ganha mais no 10º e 17º nível.",
    usesPerRest: "sorcery_points",
    options: {
      careful: { name: "Magia Cuidadosa", cost: 1, description: "Criaturas escolhidas passam automaticamente em testes de resistência da magia" },
      distant: { name: "Magia Distante", cost: 1, description: "Dobre o alcance da magia ou torne toque em 9m" },
      empowered: { name: "Magia Potencializada", cost: 1, description: "Rerole dados de dano (máx = modificador de Carisma)" },
      extended: { name: "Magia Estendida", cost: 1, description: "Dobre a duração da magia (máx 24h)" },
      heightened: { name: "Magia Elevada", cost: 3, description: "Um alvo tem desvantagem no primeiro teste de resistência" },
      quickened: { name: "Magia Acelerada", cost: 2, description: "Mude o tempo de conjuração de 1 ação para 1 ação bônus" },
      subtle: { name: "Magia Sutil", cost: 1, description: "Conjure sem componentes verbais ou somáticos" },
      twinned: { name: "Magia Gêmea", cost: "spell_level", description: "Afete um segundo alvo com magia de alvo único" },
    },
  },
  
  // WARLOCK
  eldritch_invocations: {
    id: "eldritch_invocations",
    name: "Invocações Místicas",
    class: "warlock",
    level: 2,
    description: "Você ganha duas invocações místicas de sua escolha. Quando ganha certos níveis de bruxo, ganha invocações adicionais.",
    usesPerRest: "passive",
    invocationsAtLevel: { 2: 2, 5: 3, 7: 4, 9: 5, 12: 6, 15: 7, 18: 8 },
    options: {
      agonizing_blast: { name: "Rajada Agonizante", requirement: "eldritch_blast", description: "Adicione modificador de Carisma ao dano de Eldritch Blast" },
      armor_of_shadows: { name: "Armadura das Sombras", description: "Conjure Mage Armor em si mesmo à vontade" },
      devils_sight: { name: "Visão do Diabo", description: "Veja normalmente em escuridão mágica e não-mágica até 36m" },
      eldritch_sight: { name: "Visão Mística", description: "Conjure Detect Magic à vontade" },
      mask_of_many_faces: { name: "Máscara de Muitas Faces", description: "Conjure Disguise Self à vontade" },
      misty_visions: { name: "Visões Enevoadas", description: "Conjure Silent Image à vontade" },
      repelling_blast: { name: "Rajada Repulsora", requirement: "eldritch_blast", description: "Empurre criatura 3m com Eldritch Blast" },
      thirsting_blade: { name: "Lâmina Sedenta", requirement: "pact_of_the_blade", level: 5, description: "Ataque duas vezes com sua arma do pacto" },
    },
  },
  pact_boon: {
    id: "pact_boon",
    name: "Dádiva do Pacto",
    class: "warlock",
    level: 3,
    description: "Seu patrono sobrenatural concede a você um presente por seus serviços leais.",
    usesPerRest: "passive",
    options: {
      pact_of_the_blade: { name: "Pacto da Lâmina", description: "Crie uma arma mágica corpo a corpo como ação" },
      pact_of_the_chain: { name: "Pacto da Corrente", description: "Aprenda Find Familiar com formas especiais" },
      pact_of_the_tome: { name: "Pacto do Tomo", description: "Grimório com 3 cantrips de qualquer lista" },
      pact_of_the_talisman: { name: "Pacto do Talismã", description: "Talismã que adiciona 1d4 a testes falhos" },
    },
  },
  
  // BARD
  bardic_inspiration: {
    id: "bardic_inspiration",
    name: "Inspiração Bárdica",
    class: "bard",
    level: 1,
    description: "Você pode inspirar outros através de palavras ou música. Como ação bônus, dê a uma criatura a até 18m um dado de Inspiração Bárdica (d6). Nos próximos 10 minutos, ela pode adicionar o resultado a um teste de habilidade, ataque ou resistência.",
    usesPerRest: "long",
    usesFormula: "charisma_modifier",
    dieAtLevel: ["d6", "d6", "d6", "d6", "d8", "d8", "d8", "d8", "d8", "d10", "d10", "d10", "d10", "d10", "d15", "d12", "d12", "d12", "d12", "d12"],
  },
  jack_of_all_trades: {
    id: "jack_of_all_trades",
    name: "Pau pra Toda Obra",
    class: "bard",
    level: 2,
    description: "Você pode adicionar metade do seu bônus de proficiência, arredondado para baixo, a qualquer teste de habilidade que você fizer que já não inclua seu bônus de proficiência.",
    usesPerRest: "passive",
  },
  song_of_rest: {
    id: "song_of_rest",
    name: "Canção de Descanso",
    class: "bard",
    level: 2,
    description: "Você pode usar música ou oratória calmante para ajudar a revitalizar seus aliados feridos durante um descanso curto. Criaturas que gastarem Dados de Vida recuperam 1d6 extra.",
    usesPerRest: "short",
    dieAtLevel: { 2: "d6", 9: "d8", 13: "d10", 17: "d12" },
  },
  
  // DRUID
  wild_shape: {
    id: "wild_shape",
    name: "Forma Selvagem",
    class: "druid",
    level: 2,
    description: "Você pode usar sua ação para assumir magicamente a forma de uma besta que você já viu antes. Você pode usar essa característica duas vezes, recuperando usos após um descanso curto ou longo.",
    usesPerRest: "short",
    uses: 2,
    maxCRAtLevel: { 2: 0.25, 4: 0.5, 8: 1 },
    restrictions: {
      noSwimming: { until: 4 },
      noFlying: { until: 8 },
    },
  },
  
  // RANGER
  favored_enemy: {
    id: "favored_enemy",
    name: "Inimigo Favorito",
    class: "ranger",
    level: 1,
    description: "Você tem vantagem em testes de Sabedoria (Sobrevivência) para rastrear seus inimigos favoritos, assim como em testes de Inteligência para lembrar informações sobre eles.",
    usesPerRest: "passive",
    enemyTypes: ["aberrations", "beasts", "celestials", "constructs", "dragons", "elementals", "fey", "fiends", "giants", "monstrosities", "oozes", "plants", "undead"],
  },
  natural_explorer: {
    id: "natural_explorer",
    name: "Explorador Natural",
    class: "ranger",
    level: 1,
    description: "Você é particularmente familiarizado com um tipo de ambiente natural e é adepto a viajar e sobreviver em tais regiões.",
    usesPerRest: "passive",
    terrainTypes: ["arctic", "coast", "desert", "forest", "grassland", "mountain", "swamp", "underdark"],
  },
  hunters_mark: {
    id: "hunters_mark",
    name: "Marca do Caçador",
    class: "ranger",
    level: 1,
    description: "Você pode conjurar Hunter's Mark sem gastar um slot de magia um número de vezes igual ao seu modificador de Sabedoria.",
    usesPerRest: "long",
    usesFormula: "wisdom_modifier",
  },
} as const;

export type ClassAbility = keyof typeof CLASS_ABILITIES;

// ============================================
// EQUIPMENT PACKS (D&D 5e 2024)
// ============================================

export const EQUIPMENT_PACKS = {
  burglar: {
    name: "Kit de Ladrão",
    contents: ["Mochila", "Saco de 1000 esferas", "3m de linha", "Sino", "5 velas", "Pé de cabra", "Martelo", "10 pitons", "Lanterna coberta", "2 frascos de óleo", "5 dias de rações", "Cantil", "15m de corda de cânhamo"],
    cost: 16,
  },
  diplomat: {
    name: "Kit de Diplomata",
    contents: ["Baú", "2 estojos de mapas", "Roupas finas", "Frasco de tinta", "Caneta tinteiro", "Lâmpada", "2 frascos de óleo", "5 folhas de papel", "Frasco de perfume", "Cera de lacre", "Sabão"],
    cost: 39,
  },
  dungeoneer: {
    name: "Kit de Aventureiro",
    contents: ["Mochila", "Pé de cabra", "Martelo", "10 pitons", "10 tochas", "Caixa de fogo", "10 dias de rações", "Cantil", "15m de corda de cânhamo"],
    cost: 12,
  },
  entertainer: {
    name: "Kit de Artista",
    contents: ["Mochila", "Saco de dormir", "2 fantasias", "5 velas", "5 dias de rações", "Cantil", "Kit de disfarce"],
    cost: 40,
  },
  explorer: {
    name: "Kit de Explorador",
    contents: ["Mochila", "Saco de dormir", "Kit de refeição", "Caixa de fogo", "10 tochas", "10 dias de rações", "Cantil", "15m de corda de cânhamo"],
    cost: 10,
  },
  priest: {
    name: "Kit de Sacerdote",
    contents: ["Mochila", "Cobertor", "10 velas", "Caixa de fogo", "Caixa de esmolas", "2 blocos de incenso", "Incensário", "Vestimentas", "2 dias de rações", "Cantil"],
    cost: 19,
  },
  scholar: {
    name: "Kit de Estudioso",
    contents: ["Mochila", "Livro de conhecimento", "Frasco de tinta", "Caneta tinteiro", "10 folhas de pergaminho", "Saquinho de areia", "Faca pequena"],
    cost: 40,
  },
} as const;

export type EquipmentPack = keyof typeof EQUIPMENT_PACKS;


// ============================================
// MONSTER ABILITIES (Skills/Attacks)
// ============================================

export type MonsterAbilityType = "attack" | "spell" | "buff" | "debuff" | "heal" | "special";

export interface MonsterAbility {
  id: string;
  name: string;
  description: string;
  type: MonsterAbilityType;
  damage?: { dice: string; type: string };
  healing?: { dice: string };
  effect?: { type: string; duration: number; value: number };
  cooldown: number;
  useChance: number;
  minHealth?: number;
  maxHealth?: number;
}

// Pre-defined monster abilities by monster type
export const MONSTER_ABILITIES: Record<string, MonsterAbility[]> = {
  // GOBLIN abilities
  goblin: [
    {
      id: "sneaky_stab",
      name: "Facada Traiçoeira",
      description: "O goblin ataca pelas costas causando dano extra",
      type: "attack",
      damage: { dice: "2d6", type: "piercing" },
      cooldown: 2,
      useChance: 0.4,
    },
    {
      id: "goblin_retreat",
      name: "Recuo Covarde",
      description: "O goblin recua e ganha bônus de defesa",
      type: "buff",
      effect: { type: "armor_boost", duration: 2, value: 3 },
      cooldown: 3,
      useChance: 0.3,
      minHealth: 0,
      maxHealth: 40,
    },
  ],
  
  // GOBLIN ARCHER abilities
  goblin_archer: [
    {
      id: "aimed_shot",
      name: "Tiro Certeiro",
      description: "Um tiro bem mirado que causa dano extra",
      type: "attack",
      damage: { dice: "2d8", type: "piercing" },
      cooldown: 2,
      useChance: 0.5,
    },
    {
      id: "poison_arrow",
      name: "Flecha Envenenada",
      description: "Dispara uma flecha com veneno que causa dano ao longo do tempo",
      type: "debuff",
      damage: { dice: "1d4", type: "poison" },
      effect: { type: "poison", duration: 3, value: 3 },
      cooldown: 4,
      useChance: 0.3,
    },
  ],
  
  // GOBLIN SHAMAN abilities
  goblin_shaman: [
    {
      id: "dark_bolt",
      name: "Raio Sombrio",
      description: "Dispara um raio de energia sombria",
      type: "spell",
      damage: { dice: "2d6", type: "necrotic" },
      cooldown: 1,
      useChance: 0.6,
    },
    {
      id: "heal_ally",
      name: "Cura Tribal",
      description: "O xamã cura a si mesmo",
      type: "heal",
      healing: { dice: "2d6" },
      cooldown: 3,
      useChance: 0.5,
      minHealth: 0,
      maxHealth: 50,
    },
    {
      id: "curse",
      name: "Maldição",
      description: "Amaldiçoa o alvo reduzindo sua defesa",
      type: "debuff",
      effect: { type: "armor_reduce", duration: 3, value: -2 },
      cooldown: 4,
      useChance: 0.4,
    },
  ],
  
  // GOBLIN BOSS abilities
  goblin_boss: [
    {
      id: "commanding_strike",
      name: "Golpe Comandante",
      description: "Um ataque poderoso que inspira medo",
      type: "attack",
      damage: { dice: "3d6", type: "slashing" },
      cooldown: 2,
      useChance: 0.5,
    },
    {
      id: "battle_cry",
      name: "Grito de Guerra",
      description: "O chefe grita aumentando seu próprio poder",
      type: "buff",
      effect: { type: "damage_boost", duration: 3, value: 5 },
      cooldown: 4,
      useChance: 0.4,
    },
    {
      id: "dirty_trick",
      name: "Truque Sujo",
      description: "Joga areia nos olhos do inimigo",
      type: "debuff",
      effect: { type: "blind", duration: 2, value: -4 },
      cooldown: 3,
      useChance: 0.3,
    },
  ],
  
  // RAT abilities
  rat: [
    {
      id: "disease_bite",
      name: "Mordida Infectada",
      description: "Uma mordida que pode causar doença",
      type: "attack",
      damage: { dice: "1d4", type: "piercing" },
      effect: { type: "disease", duration: 3, value: 2 },
      cooldown: 2,
      useChance: 0.4,
    },
  ],
  
  // RAT GIANT abilities
  rat_giant: [
    {
      id: "gnaw",
      name: "Roer",
      description: "O rato gigante morde com força",
      type: "attack",
      damage: { dice: "2d6", type: "piercing" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "plague_bite",
      name: "Mordida da Peste",
      description: "Uma mordida que espalha doença",
      type: "attack",
      damage: { dice: "1d6", type: "piercing" },
      effect: { type: "poison", duration: 4, value: 4 },
      cooldown: 3,
      useChance: 0.4,
    },
  ],
  
  // RAT KING abilities
  rat_king: [
    {
      id: "swarm_attack",
      name: "Ataque em Enxame",
      description: "Invoca ratos menores para atacar",
      type: "special",
      damage: { dice: "3d6", type: "piercing" },
      cooldown: 3,
      useChance: 0.5,
    },
    {
      id: "plague_aura",
      name: "Aura da Peste",
      description: "Emana uma aura de doença",
      type: "debuff",
      effect: { type: "poison", duration: 5, value: 5 },
      cooldown: 4,
      useChance: 0.4,
    },
    {
      id: "regenerate",
      name: "Regeneração",
      description: "O Rei dos Ratos se cura",
      type: "heal",
      healing: { dice: "3d6" },
      cooldown: 4,
      useChance: 0.6,
      minHealth: 0,
      maxHealth: 40,
    },
  ],
  
  // SKELETON abilities
  skeleton: [
    {
      id: "bone_strike",
      name: "Golpe Ósseo",
      description: "Um ataque com ossos afiados",
      type: "attack",
      damage: { dice: "1d8", type: "slashing" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "reassemble",
      name: "Remontar",
      description: "O esqueleto se remonta parcialmente",
      type: "heal",
      healing: { dice: "1d8" },
      cooldown: 4,
      useChance: 0.3,
      minHealth: 0,
      maxHealth: 30,
    },
  ],
  
  // SKELETON WARRIOR abilities
  skeleton_warrior: [
    {
      id: "shield_bash",
      name: "Golpe de Escudo",
      description: "Ataca com o escudo atordoando o alvo",
      type: "attack",
      damage: { dice: "1d6", type: "bludgeoning" },
      effect: { type: "stun", duration: 1, value: 0 },
      cooldown: 3,
      useChance: 0.4,
    },
    {
      id: "sword_flurry",
      name: "Rajada de Espada",
      description: "Uma série rápida de ataques",
      type: "attack",
      damage: { dice: "2d8", type: "slashing" },
      cooldown: 2,
      useChance: 0.5,
    },
  ],
  
  // ZOMBIE abilities
  zombie: [
    {
      id: "grab",
      name: "Agarrar",
      description: "O zumbi agarra o alvo",
      type: "attack",
      damage: { dice: "1d6", type: "bludgeoning" },
      effect: { type: "grapple", duration: 2, value: -2 },
      cooldown: 2,
      useChance: 0.4,
    },
    {
      id: "undead_fortitude",
      name: "Fortitude Morta-Viva",
      description: "O zumbi resiste à morte",
      type: "buff",
      effect: { type: "damage_resist", duration: 2, value: 5 },
      cooldown: 4,
      useChance: 0.3,
      minHealth: 0,
      maxHealth: 25,
    },
  ],
  
  // WOLF abilities
  wolf: [
    {
      id: "pack_tactics",
      name: "Táticas de Matilha",
      description: "O lobo ataca com vantagem",
      type: "attack",
      damage: { dice: "2d6", type: "piercing" },
      cooldown: 2,
      useChance: 0.5,
    },
    {
      id: "howl",
      name: "Uivo",
      description: "Um uivo aterrorizante",
      type: "debuff",
      effect: { type: "fear", duration: 2, value: -2 },
      cooldown: 4,
      useChance: 0.3,
    },
  ],
  
  // DIRE WOLF abilities
  dire_wolf: [
    {
      id: "savage_bite",
      name: "Mordida Selvagem",
      description: "Uma mordida devastadora",
      type: "attack",
      damage: { dice: "3d6", type: "piercing" },
      cooldown: 2,
      useChance: 0.5,
    },
    {
      id: "knockdown",
      name: "Derrubar",
      description: "Derruba o alvo no chão",
      type: "attack",
      damage: { dice: "1d6", type: "bludgeoning" },
      effect: { type: "prone", duration: 1, value: -4 },
      cooldown: 3,
      useChance: 0.4,
    },
    {
      id: "terrifying_howl",
      name: "Uivo Aterrorizante",
      description: "Um uivo que causa medo",
      type: "debuff",
      effect: { type: "fear", duration: 3, value: -3 },
      cooldown: 4,
      useChance: 0.3,
    },
  ],
  
  // SPIDER abilities
  spider: [
    {
      id: "web_shot",
      name: "Teia",
      description: "Dispara uma teia que prende o alvo",
      type: "debuff",
      effect: { type: "restrained", duration: 2, value: -4 },
      cooldown: 3,
      useChance: 0.4,
    },
    {
      id: "poison_bite",
      name: "Mordida Venenosa",
      description: "Uma mordida com veneno",
      type: "attack",
      damage: { dice: "1d8", type: "piercing" },
      effect: { type: "poison", duration: 3, value: 4 },
      cooldown: 2,
      useChance: 0.5,
    },
  ],
  
  // GIANT SPIDER abilities
  spider_giant: [
    {
      id: "web_cocoon",
      name: "Casulo de Teia",
      description: "Envolve o alvo em teia",
      type: "debuff",
      effect: { type: "restrained", duration: 3, value: -6 },
      cooldown: 4,
      useChance: 0.4,
    },
    {
      id: "deadly_venom",
      name: "Veneno Mortal",
      description: "Injeta veneno letal",
      type: "attack",
      damage: { dice: "2d8", type: "poison" },
      effect: { type: "poison", duration: 4, value: 6 },
      cooldown: 3,
      useChance: 0.5,
    },
    {
      id: "ambush",
      name: "Emboscada",
      description: "Ataca de surpresa",
      type: "attack",
      damage: { dice: "3d6", type: "piercing" },
      cooldown: 4,
      useChance: 0.3,
    },
  ],
  
  // ORC abilities
  orc: [
    {
      id: "aggressive_charge",
      name: "Investida Agressiva",
      description: "O orc avança com fúria",
      type: "attack",
      damage: { dice: "2d8", type: "slashing" },
      cooldown: 2,
      useChance: 0.5,
    },
    {
      id: "battle_rage",
      name: "Fúria de Batalha",
      description: "Entra em fúria aumentando o dano",
      type: "buff",
      effect: { type: "damage_boost", duration: 3, value: 4 },
      cooldown: 4,
      useChance: 0.4,
    },
  ],
  
  // TROLL abilities
  troll: [
    {
      id: "claw_rend",
      name: "Rasgar com Garras",
      description: "Ataca com garras afiadas",
      type: "attack",
      damage: { dice: "2d10", type: "slashing" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "regeneration",
      name: "Regeneração",
      description: "O troll se regenera rapidamente",
      type: "heal",
      healing: { dice: "2d8" },
      cooldown: 2,
      useChance: 0.6,
    },
    {
      id: "bite",
      name: "Mordida",
      description: "Uma mordida brutal",
      type: "attack",
      damage: { dice: "1d8", type: "piercing" },
      cooldown: 1,
      useChance: 0.4,
    },
  ],
  
  // OGRE abilities
  ogre: [
    {
      id: "club_smash",
      name: "Esmagar com Clava",
      description: "Um golpe devastador com a clava",
      type: "attack",
      damage: { dice: "3d8", type: "bludgeoning" },
      cooldown: 2,
      useChance: 0.5,
    },
    {
      id: "ground_pound",
      name: "Golpe no Chão",
      description: "Golpeia o chão causando tremor",
      type: "attack",
      damage: { dice: "2d6", type: "bludgeoning" },
      effect: { type: "prone", duration: 1, value: -2 },
      cooldown: 3,
      useChance: 0.4,
    },
  ],
  
  // BANDIT abilities
  bandit: [
    {
      id: "cheap_shot",
      name: "Golpe Baixo",
      description: "Um ataque traiçoeiro",
      type: "attack",
      damage: { dice: "2d6", type: "piercing" },
      cooldown: 2,
      useChance: 0.5,
    },
    {
      id: "throw_sand",
      name: "Jogar Areia",
      description: "Joga areia nos olhos",
      type: "debuff",
      effect: { type: "blind", duration: 1, value: -4 },
      cooldown: 3,
      useChance: 0.3,
    },
  ],
  
  // KOBOLD abilities
  kobold: [
    {
      id: "trap_trigger",
      name: "Ativar Armadilha",
      description: "Ativa uma armadilha escondida",
      type: "attack",
      damage: { dice: "2d4", type: "piercing" },
      cooldown: 3,
      useChance: 0.4,
    },
    {
      id: "pack_tactics",
      name: "Táticas de Grupo",
      description: "Ataca em coordenação",
      type: "attack",
      damage: { dice: "1d6", type: "piercing" },
      cooldown: 1,
      useChance: 0.5,
    },
  ],
  
  // GHOUL abilities
  ghoul: [
    {
      id: "paralyzing_touch",
      name: "Toque Paralisante",
      description: "Um toque que paralisa",
      type: "attack",
      damage: { dice: "2d6", type: "necrotic" },
      effect: { type: "paralysis", duration: 2, value: 0 },
      cooldown: 3,
      useChance: 0.5,
    },
    {
      id: "bite",
      name: "Mordida",
      description: "Uma mordida faminta",
      type: "attack",
      damage: { dice: "2d8", type: "piercing" },
      cooldown: 1,
      useChance: 0.5,
    },
  ],
  
  // HARPY abilities
  harpy: [
    {
      id: "luring_song",
      name: "Canção Sedutora",
      description: "Uma canção que encanta",
      type: "debuff",
      effect: { type: "charm", duration: 2, value: -3 },
      cooldown: 4,
      useChance: 0.4,
    },
    {
      id: "claw_attack",
      name: "Ataque de Garras",
      description: "Ataca com garras afiadas",
      type: "attack",
      damage: { dice: "2d6", type: "slashing" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "dive_bomb",
      name: "Mergulho",
      description: "Mergulha do alto para atacar",
      type: "attack",
      damage: { dice: "3d6", type: "piercing" },
      cooldown: 3,
      useChance: 0.4,
    },
  ],
  
  // MIMIC abilities
  mimic: [
    {
      id: "adhesive",
      name: "Adesivo",
      description: "Gruda no alvo",
      type: "debuff",
      effect: { type: "grapple", duration: 3, value: -4 },
      cooldown: 3,
      useChance: 0.5,
    },
    {
      id: "bite",
      name: "Mordida",
      description: "Uma mordida surpresa",
      type: "attack",
      damage: { dice: "2d8", type: "piercing" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "pseudopod",
      name: "Pseudópode",
      description: "Ataca com um tentáculo",
      type: "attack",
      damage: { dice: "1d8", type: "bludgeoning" },
      cooldown: 1,
      useChance: 0.4,
    },
  ],
  
  // GELATINOUS CUBE abilities
  gelatinous_cube: [
    {
      id: "engulf",
      name: "Engolfar",
      description: "Tenta engolfar o alvo",
      type: "attack",
      damage: { dice: "3d6", type: "acid" },
      effect: { type: "restrained", duration: 2, value: -4 },
      cooldown: 3,
      useChance: 0.5,
    },
    {
      id: "acid_touch",
      name: "Toque Ácido",
      description: "Dissolve com ácido",
      type: "attack",
      damage: { dice: "2d6", type: "acid" },
      cooldown: 1,
      useChance: 0.5,
    },
  ],
  
  // IMP abilities
  imp: [
    {
      id: "sting",
      name: "Ferrão",
      description: "Ataca com ferrão venenoso",
      type: "attack",
      damage: { dice: "1d6", type: "piercing" },
      effect: { type: "poison", duration: 3, value: 5 },
      cooldown: 2,
      useChance: 0.5,
    },
    {
      id: "invisibility",
      name: "Invisibilidade",
      description: "Fica invisível",
      type: "buff",
      effect: { type: "invisible", duration: 2, value: 4 },
      cooldown: 4,
      useChance: 0.3,
    },
    {
      id: "fire_bolt",
      name: "Raio de Fogo",
      description: "Dispara um raio de fogo",
      type: "spell",
      damage: { dice: "1d10", type: "fire" },
      cooldown: 1,
      useChance: 0.5,
    },
  ],
  
  // GIANT BAT abilities
  bat_giant: [
    {
      id: "sonic_screech",
      name: "Grito Sônico",
      description: "Um grito ensurdecedor",
      type: "attack",
      damage: { dice: "2d6", type: "thunder" },
      effect: { type: "deafen", duration: 2, value: -2 },
      cooldown: 3,
      useChance: 0.4,
    },
    {
      id: "bite",
      name: "Mordida",
      description: "Uma mordida rápida",
      type: "attack",
      damage: { dice: "1d8", type: "piercing" },
      cooldown: 1,
      useChance: 0.5,
    },
  ],
  
  // SLIME abilities
  slime: [
    {
      id: "acid_splash",
      name: "Respingo Ácido",
      description: "Espirra ácido",
      type: "attack",
      damage: { dice: "1d6", type: "acid" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "split",
      name: "Dividir",
      description: "Divide-se quando ferido",
      type: "special",
      effect: { type: "split", duration: 0, value: 0 },
      cooldown: 5,
      useChance: 0.3,
      minHealth: 0,
      maxHealth: 50,
    },
  ],
  
  // FIRE ELEMENTAL abilities
  elemental_fire: [
    {
      id: "fire_touch",
      name: "Toque Flamejante",
      description: "Queima com fogo intenso",
      type: "attack",
      damage: { dice: "2d8", type: "fire" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "fire_form",
      name: "Forma de Fogo",
      description: "Causa dano a quem o toca",
      type: "buff",
      effect: { type: "fire_aura", duration: 3, value: 5 },
      cooldown: 4,
      useChance: 0.4,
    },
    {
      id: "ignite",
      name: "Incendiar",
      description: "Incendeia o alvo",
      type: "debuff",
      effect: { type: "burning", duration: 3, value: 5 },
      cooldown: 3,
      useChance: 0.4,
    },
  ],
  
  // YOUNG DRAGON abilities
  dragon_young: [
    {
      id: "breath_weapon",
      name: "Sopro de Fogo",
      description: "Sopra fogo devastador",
      type: "spell",
      damage: { dice: "6d6", type: "fire" },
      cooldown: 4,
      useChance: 0.6,
    },
    {
      id: "claw",
      name: "Garras",
      description: "Ataca com garras",
      type: "attack",
      damage: { dice: "2d8", type: "slashing" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "bite",
      name: "Mordida",
      description: "Uma mordida poderosa",
      type: "attack",
      damage: { dice: "2d10", type: "piercing" },
      cooldown: 1,
      useChance: 0.5,
    },
    {
      id: "frightful_presence",
      name: "Presença Aterrorizante",
      description: "Causa medo em todos ao redor",
      type: "debuff",
      effect: { type: "fear", duration: 3, value: -4 },
      cooldown: 5,
      useChance: 0.3,
    },
    {
      id: "wing_attack",
      name: "Ataque de Asas",
      description: "Bate as asas com força",
      type: "attack",
      damage: { dice: "2d6", type: "bludgeoning" },
      effect: { type: "prone", duration: 1, value: -2 },
      cooldown: 3,
      useChance: 0.4,
    },
  ],
};

// Helper function to get abilities for a monster by name
export function getMonsterAbilities(monsterName: string): MonsterAbility[] {
  const normalizedName = monsterName.toLowerCase()
    .replace(/\s+/g, '_')
    .replace(/[áàãâä]/g, 'a')
    .replace(/[éèêë]/g, 'e')
    .replace(/[íìîï]/g, 'i')
    .replace(/[óòõôö]/g, 'o')
    .replace(/[úùûü]/g, 'u');
  
  // Try exact match first
  if (MONSTER_ABILITIES[normalizedName]) {
    return MONSTER_ABILITIES[normalizedName];
  }
  
  // Try partial match
  for (const key of Object.keys(MONSTER_ABILITIES)) {
    if (normalizedName.includes(key) || key.includes(normalizedName)) {
      return MONSTER_ABILITIES[key];
    }
  }
  
  // Return default basic attack if no abilities found
  return [{
    id: "basic_attack",
    name: "Ataque Básico",
    description: "Um ataque comum",
    type: "attack",
    damage: { dice: "1d6", type: "physical" },
    cooldown: 0,
    useChance: 0.3,
  }];
}

// Helper function to roll dice
export function rollDiceString(diceString: string): number {
  const match = diceString.match(/(\d+)d(\d+)([+-]\d+)?/);
  if (!match) return 0;
  
  const numDice = parseInt(match[1]);
  const dieSize = parseInt(match[2]);
  const modifier = match[3] ? parseInt(match[3]) : 0;
  
  let total = 0;
  for (let i = 0; i < numDice; i++) {
    total += Math.floor(Math.random() * dieSize) + 1;
  }
  
  return total + modifier;
}
